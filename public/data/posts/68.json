[
    {
        "dataAsArray": {
            "id": 9889,
            "date": "2021-02-05T19:02:16",
            "date_gmt": "2021-02-05T19:02:16",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=9889"
            },
            "modified": "2021-02-05T19:02:18",
            "modified_gmt": "2021-02-05T19:02:18",
            "slug": "simple-free-domain-redirection-with-netlify",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/",
            "title": {
                "rendered": "Simple free domain redirection with Netlify"
            },
            "content": {
                "rendered": "\n<p><em>Note: I&#8217;m jotting this down quickly while I remember &#8211; I may expand it with example code in future.<\/em><\/p>\n\n\n\n<p>It&#8217;s always frustrated me that to redirect one domain to another domain can be tricky and costly.<\/p>\n\n\n\n<p>Yes, some domain\/DNS providers let you do this, but not all.<\/p>\n\n\n\n<p>And yes, you might be able to add the source domain to the hosting for the target domain. <\/p>\n\n\n\n<p>But if, for some reason, you can&#8217;t do either of those things. You kinda have to pay for a small hosting account just to do the redirects. <\/p>\n\n\n\n<p>However, today I went looking into whether you can do this for free with GitHub Pages or Netlify or something, and <a href=\"https:\/\/netlify.com\/\">Netlify<\/a> has come up trumps!<\/p>\n\n\n\n<p>It turns out you can add a <code>_redirects<\/code> file to your Netlify site. This file lets you do reasonably sophisticated redirecting with wildcards and placeholders and status code control. Neat! Map your domain, and you get HTTPS for free too.<\/p>\n\n\n\n<p>You can add a site to Netlify by dragging and dropping files into the &#8220;Dropzone&#8221; or, if you&#8217;re happy using Git, you can deploy from a Git repository.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png\" alt=\"Screengrab showing Netlify's &quot;Dropzone&quot; for creating new sites\" class=\"wp-image-9891\" width=\"768\" height=\"521\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-300x203.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-768x520.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53.png 1258w\" sizes=\"(max-width: 768px) 100vw, 768px\" \/><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\">Documentation<\/h2>\n\n\n\n<p>Netlify&#8217;s documentation explains the details of how this works and the redirects file format.<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li><a href=\"https:\/\/docs.netlify.com\/routing\/redirects\/\">Details of the redirection feature<\/a><\/li><li><a href=\"https:\/\/docs.netlify.com\/routing\/redirects\/redirect-options\/\">_redirects file format<\/a><\/li><\/ul>\n\n\n\n<p>The one gotcha I found is that you do actually have to deploy a file other than <code>_redirects<\/code> into your Netlify site. Otherwise the deployment gets stuck. But don&#8217;t create an index.html as this will be served as a default for the domain breaking any fallback redirect. So I suggest creating a <code>404.html<\/code> or something.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Process<\/h2>\n\n\n\n<ul class=\"wp-block-list\"><li>Create a folder on your computer with a <code>404.html<\/code> (this can contain whatever you need) and a <code>_redirects<\/code> file.<\/li><li>Edit the redirects file to add the rules you need<\/li><li>Log in to Netlify &#8211; create an account if you don&#8217;t have one<\/li><li>Click &#8220;Sites&#8221; in the Netlify menu and scroll down (if you need to) to the Dropzone (as seen in the image above)<\/li><li>Drag and drop the folder from your cpmputer into the drop zone to create the site (you can drag and drop the folder to update the site&#8217;s files too)<\/li><li>In the Netlify site settings, map your domain (for the source URLs) and then go to your DNS provider and update your DNS according to the instructions provided by Netlify.<\/li><li>LetsEncrypt HTTPS certificates will be provided automatically by Netlify when DNS has propagated.<\/li><\/ul>\n\n\n\n<h2 class=\"wp-block-heading\">Using Git<\/h2>\n\n\n\n<p>You can deploy from a Git repository too. If you&#8217;re happy with doing this then I&#8217;m doing to assume you&#8217;re tech-savvy enough to figure this out for yourself. Sorry if that&#8217;s an incorrect assumption.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Other uses&#8230;?<\/h2>\n\n\n\n<p>Now I&#8217;m even thinking this could be a very simple way to run a free custom URL shortener. Hmm&#8230;<\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>How to host domain redirects for free with Netlify.<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                23
            ],
            "tags": [
                98,
                4779,
                712
            ],
            "class_list": [
                "post-9889",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-techie",
                "tag-hosting",
                "tag-redirects",
                "tag-websites"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Simple free domain redirection with Netlify - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Simple free domain redirection with Netlify - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"How to host domain redirects for free with Netlify.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-02-05T19:02:16+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-02-05T19:02:18+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"3 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/\",\"name\":\"Simple free domain redirection with Netlify - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png\",\"datePublished\":\"2021-02-05T19:02:16+00:00\",\"dateModified\":\"2021-02-05T19:02:18+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#primaryimage\",\"url\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53.png\",\"contentUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53.png\",\"width\":1258,\"height\":852},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Simple free domain redirection with Netlify\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Simple free domain redirection with Netlify - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Simple free domain redirection with Netlify - Ross Wintle",
                "og_description": "How to host domain redirects for free with Netlify.",
                "og_url": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-02-05T19:02:16+00:00",
                "article_modified_time": "2021-02-05T19:02:18+00:00",
                "og_image": [
                    {
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "3 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/",
                            "name": "Simple free domain redirection with Netlify - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "primaryImageOfPage": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#primaryimage"
                            },
                            "image": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#primaryimage"
                            },
                            "thumbnailUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png",
                            "datePublished": "2021-02-05T19:02:16+00:00",
                            "dateModified": "2021-02-05T19:02:18+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "ImageObject",
                            "inLanguage": "en-US",
                            "@id": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#primaryimage",
                            "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53.png",
                            "contentUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53.png",
                            "width": 1258,
                            "height": 852
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Simple free domain redirection with Netlify"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9889"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=9889"
                    }
                ],
                "version-history": [
                    {
                        "count": 3,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9889\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 9893,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9889\/revisions\/9893"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=9889"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=9889"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=9889"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 9889,
        "dateGmt": "2021-02-05T19:02:16",
        "modifiedDateGmt": "2021-02-05T19:02:18",
        "slug": "simple-free-domain-redirection-with-netlify",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/02\/simple-free-domain-redirection-with-netlify\/",
        "title": "Simple free domain redirection with Netlify",
        "content": "\n<p><em>Note: I&#8217;m jotting this down quickly while I remember &#8211; I may expand it with example code in future.<\/em><\/p>\n\n\n\n<p>It&#8217;s always frustrated me that to redirect one domain to another domain can be tricky and costly.<\/p>\n\n\n\n<p>Yes, some domain\/DNS providers let you do this, but not all.<\/p>\n\n\n\n<p>And yes, you might be able to add the source domain to the hosting for the target domain. <\/p>\n\n\n\n<p>But if, for some reason, you can&#8217;t do either of those things. You kinda have to pay for a small hosting account just to do the redirects. <\/p>\n\n\n\n<p>However, today I went looking into whether you can do this for free with GitHub Pages or Netlify or something, and <a href=\"https:\/\/netlify.com\/\">Netlify<\/a> has come up trumps!<\/p>\n\n\n\n<p>It turns out you can add a <code>_redirects<\/code> file to your Netlify site. This file lets you do reasonably sophisticated redirecting with wildcards and placeholders and status code control. Neat! Map your domain, and you get HTTPS for free too.<\/p>\n\n\n\n<p>You can add a site to Netlify by dragging and dropping files into the &#8220;Dropzone&#8221; or, if you&#8217;re happy using Git, you can deploy from a Git repository.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png\" alt=\"Screengrab showing Netlify's &quot;Dropzone&quot; for creating new sites\" class=\"wp-image-9891\" width=\"768\" height=\"521\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-1024x694.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-300x203.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53-768x520.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/02\/CleanShot-2021-02-05-at-18.37.53.png 1258w\" sizes=\"(max-width: 768px) 100vw, 768px\" \/><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\">Documentation<\/h2>\n\n\n\n<p>Netlify&#8217;s documentation explains the details of how this works and the redirects file format.<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li><a href=\"https:\/\/docs.netlify.com\/routing\/redirects\/\">Details of the redirection feature<\/a><\/li><li><a href=\"https:\/\/docs.netlify.com\/routing\/redirects\/redirect-options\/\">_redirects file format<\/a><\/li><\/ul>\n\n\n\n<p>The one gotcha I found is that you do actually have to deploy a file other than <code>_redirects<\/code> into your Netlify site. Otherwise the deployment gets stuck. But don&#8217;t create an index.html as this will be served as a default for the domain breaking any fallback redirect. So I suggest creating a <code>404.html<\/code> or something.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Process<\/h2>\n\n\n\n<ul class=\"wp-block-list\"><li>Create a folder on your computer with a <code>404.html<\/code> (this can contain whatever you need) and a <code>_redirects<\/code> file.<\/li><li>Edit the redirects file to add the rules you need<\/li><li>Log in to Netlify &#8211; create an account if you don&#8217;t have one<\/li><li>Click &#8220;Sites&#8221; in the Netlify menu and scroll down (if you need to) to the Dropzone (as seen in the image above)<\/li><li>Drag and drop the folder from your cpmputer into the drop zone to create the site (you can drag and drop the folder to update the site&#8217;s files too)<\/li><li>In the Netlify site settings, map your domain (for the source URLs) and then go to your DNS provider and update your DNS according to the instructions provided by Netlify.<\/li><li>LetsEncrypt HTTPS certificates will be provided automatically by Netlify when DNS has propagated.<\/li><\/ul>\n\n\n\n<h2 class=\"wp-block-heading\">Using Git<\/h2>\n\n\n\n<p>You can deploy from a Git repository too. If you&#8217;re happy with doing this then I&#8217;m doing to assume you&#8217;re tech-savvy enough to figure this out for yourself. Sorry if that&#8217;s an incorrect assumption.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Other uses&#8230;?<\/h2>\n\n\n\n<p>Now I&#8217;m even thinking this could be a very simple way to run a free custom URL shortener. Hmm&#8230;<\/p>\n",
        "excerpt": "<p>How to host domain redirects for free with Netlify.<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    },
    {
        "dataAsArray": {
            "id": 9949,
            "date": "2021-02-25T15:54:17",
            "date_gmt": "2021-02-25T15:54:17",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=9949"
            },
            "modified": "2021-02-25T16:16:20",
            "modified_gmt": "2021-02-25T16:16:20",
            "slug": "sustainable-web-design-book-thoughts",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/",
            "title": {
                "rendered": "Sustainable Web Design: Book thoughts"
            },
            "content": {
                "rendered": "\n<p>I&#8217;m reading <a href=\"https:\/\/twitter.com\/eatwholegrain\">Tom Greenwood<\/a>&#8216;s book <a href=\"https:\/\/abookapart.com\/products\/sustainable-web-design\">Sustainable Web Design<\/a> and, interestingly, my main takeaways aren&#8217;t technical web design\/development things. They are around:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Business\/strategy &#8211; how there may (or may not) be benefit in positioning yourself as a sustainable web designer\/developer.<\/li><li>UX &#8211; there are some nuggets around user journeys that I&#8217;d not considered before. Reducing page loads is good!<\/li><li>Spaceflight (!) &#8211; as an aviation geek and wannabe engineer I&#8217;m fascinated by space flight tech, and there&#8217;s some interesting stuff about the emissions from SpaceX&#8217;s Starlink satellite launches.<\/li><\/ul>\n\n\n\n<p>I&#8217;ve often wondered about carbon emissions of spaceflight and satellite deployment, but apparently a SpaceX Starlink launch is &#8220;roughly equivalent to 5 full passenger planes journeying from London to Sydney&#8221; and &#8220;a fraction of what it would take to build physical infrastructure&#8221;.<\/p>\n\n\n\n<p>This stat is from The Smithsonian via <a href=\"https:\/\/wholegraindigital.com\/curiously-green\/issue-2\/\">Wholegrain&#8217;s newsletter<\/a> and it looks like it&#8217;s actually ONLY the fuel burning cost, so includes none of the embodied energy in the vehicle (energy used to make the rocket and fuel).<\/p>\n\n\n\n<p>I have to wonder how much energy is needed to make liquid oxygen and create and move around these colossal metal structures.<\/p>\n\n\n\n<p>(Aside: I have so many questions about the use of super-cold liquid fuels in rockets!)<\/p>\n\n\n\n<p>The other thing from the book that terrified me is the thought that so much of the UK&#8217;s internet backbone is in Docklands and could be flooded. If we lost a good proportion of our internet backbone I dread to think what would happen. Supply chains would collapse. My work would disappear overnight. Etc, etc. I&#8217;m sure there are backups and backups of backups for critical stuff like this but even so. Plus, the flooding map of London&#8230; ARGH!<\/p>\n\n\n\n<p>I close with this quote from the book&#8217;s conclusion:<\/p>\n\n\n\n<p>&#8220;There is no downside to a sustainable web, and creating it isn\u2019t fundamentally difficult. In fact, it\u2019s one of the most tangible and achievable steps in the zero-carbon revolution we\u2019re embarking on.&#8221;<\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>Some brief and random thoughts on the excellent book &#8220;Sustainable Web  Development&#8221;<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                5,
                23
            ],
            "tags": [
                425,
                5050,
                64,
                301,
                181
            ],
            "class_list": [
                "post-9949",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-climate-change",
                "category-techie",
                "tag-books-2",
                "tag-carbon",
                "tag-development",
                "tag-sustainability",
                "tag-web"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Sustainable Web Design: Book thoughts - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Sustainable Web Design: Book thoughts - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"Some brief and random thoughts on the excellent book &quot;Sustainable Web Development&quot;\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-02-25T15:54:17+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-02-25T16:16:20+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"600\" \/>\n\t<meta property=\"og:image:height\" content=\"399\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/\",\"name\":\"Sustainable Web Design: Book thoughts - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"datePublished\":\"2021-02-25T15:54:17+00:00\",\"dateModified\":\"2021-02-25T16:16:20+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Sustainable Web Design: Book thoughts\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Sustainable Web Design: Book thoughts - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Sustainable Web Design: Book thoughts - Ross Wintle",
                "og_description": "Some brief and random thoughts on the excellent book \"Sustainable Web Development\"",
                "og_url": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-02-25T15:54:17+00:00",
                "article_modified_time": "2021-02-25T16:16:20+00:00",
                "og_image": [
                    {
                        "width": 600,
                        "height": 399,
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg",
                        "type": "image\/jpeg"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "2 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/",
                            "name": "Sustainable Web Design: Book thoughts - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "datePublished": "2021-02-25T15:54:17+00:00",
                            "dateModified": "2021-02-25T16:16:20+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Sustainable Web Design: Book thoughts"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9949"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=9949"
                    }
                ],
                "version-history": [
                    {
                        "count": 2,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9949\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 9952,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9949\/revisions\/9952"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=9949"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=9949"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=9949"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 9949,
        "dateGmt": "2021-02-25T15:54:17",
        "modifiedDateGmt": "2021-02-25T16:16:20",
        "slug": "sustainable-web-design-book-thoughts",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/02\/sustainable-web-design-book-thoughts\/",
        "title": "Sustainable Web Design: Book thoughts",
        "content": "\n<p>I&#8217;m reading <a href=\"https:\/\/twitter.com\/eatwholegrain\">Tom Greenwood<\/a>&#8216;s book <a href=\"https:\/\/abookapart.com\/products\/sustainable-web-design\">Sustainable Web Design<\/a> and, interestingly, my main takeaways aren&#8217;t technical web design\/development things. They are around:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Business\/strategy &#8211; how there may (or may not) be benefit in positioning yourself as a sustainable web designer\/developer.<\/li><li>UX &#8211; there are some nuggets around user journeys that I&#8217;d not considered before. Reducing page loads is good!<\/li><li>Spaceflight (!) &#8211; as an aviation geek and wannabe engineer I&#8217;m fascinated by space flight tech, and there&#8217;s some interesting stuff about the emissions from SpaceX&#8217;s Starlink satellite launches.<\/li><\/ul>\n\n\n\n<p>I&#8217;ve often wondered about carbon emissions of spaceflight and satellite deployment, but apparently a SpaceX Starlink launch is &#8220;roughly equivalent to 5 full passenger planes journeying from London to Sydney&#8221; and &#8220;a fraction of what it would take to build physical infrastructure&#8221;.<\/p>\n\n\n\n<p>This stat is from The Smithsonian via <a href=\"https:\/\/wholegraindigital.com\/curiously-green\/issue-2\/\">Wholegrain&#8217;s newsletter<\/a> and it looks like it&#8217;s actually ONLY the fuel burning cost, so includes none of the embodied energy in the vehicle (energy used to make the rocket and fuel).<\/p>\n\n\n\n<p>I have to wonder how much energy is needed to make liquid oxygen and create and move around these colossal metal structures.<\/p>\n\n\n\n<p>(Aside: I have so many questions about the use of super-cold liquid fuels in rockets!)<\/p>\n\n\n\n<p>The other thing from the book that terrified me is the thought that so much of the UK&#8217;s internet backbone is in Docklands and could be flooded. If we lost a good proportion of our internet backbone I dread to think what would happen. Supply chains would collapse. My work would disappear overnight. Etc, etc. I&#8217;m sure there are backups and backups of backups for critical stuff like this but even so. Plus, the flooding map of London&#8230; ARGH!<\/p>\n\n\n\n<p>I close with this quote from the book&#8217;s conclusion:<\/p>\n\n\n\n<p>&#8220;There is no downside to a sustainable web, and creating it isn\u2019t fundamentally difficult. In fact, it\u2019s one of the most tangible and achievable steps in the zero-carbon revolution we\u2019re embarking on.&#8221;<\/p>\n",
        "excerpt": "<p>Some brief and random thoughts on the excellent book &#8220;Sustainable Web  Development&#8221;<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    },
    {
        "dataAsArray": {
            "id": 9966,
            "date": "2021-03-02T11:49:34",
            "date_gmt": "2021-03-02T11:49:34",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=9966"
            },
            "modified": "2021-05-14T10:21:13",
            "modified_gmt": "2021-05-14T09:21:13",
            "slug": "getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/",
            "title": {
                "rendered": "Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1)"
            },
            "content": {
                "rendered": "\n<p>So I wanted to have a play with <a href=\"https:\/\/laravel.com\/docs\/8.x\/starter-kits#laravel-breeze\">Laravel Breeze<\/a> and <a href=\"https:\/\/jetstream.laravel.com\/\">Jetstream<\/a>. In doing so I noticed that the instructions for Breeze (and for Laravel in general) suggest a Docker-based <a href=\"https:\/\/laravel.com\/docs\/8.x\/sail\">Laravel Sail<\/a> install by default.<\/p>\n\n\n\n<p>I had not looked into Docker despite a lot of hype around it recently in my tech world. So I used the new Laravel encouragements to give it a shot.<\/p>\n\n\n\n<p>BUT&#8230;I have the slight problem that I have an ARM\/Apple Silicon\/M1 MacBook, and, while a <a href=\"https:\/\/docs.docker.com\/docker-for-mac\/apple-m1\/\">Docker Tech Preview (beta) exists for this<\/a>, it has issues, and there are some things that aren&#8217;t suppored &#8211; including MySQL!<\/p>\n\n\n\n<p>This post is a super-quick overview of Sail, the issues I had on Apple Silicon and how I fixed them.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Overview of Docker and Laravel Sail<\/h2>\n\n\n\n<p>This is covered in much more detail elsewhere, but Docker is a way of making lightweight virtual machines called &#8220;containers&#8221;. Rather than running a full blown operating system, these make use of what is already there in the existing operating system and they only add or change what is not there or different.<\/p>\n\n\n\n<p><a href=\"https:\/\/twitter.com\/olilafleur\">Olivier Lafleur<\/a> recommended <a href=\"https:\/\/twitter.com\/shanselman\">Scott Hanselman&#8217;s<\/a> excellent <a href=\"https:\/\/www.youtube.com\/watch?v=0oEsMwSxBsk\">video introduction<\/a> if you want more detail on this.<\/p>\n\n\n\n<p>Laravel Sail is a set of scripts and configurations that allow you to fire up a bunch of containers running services that, together, get a Laravel application up and running. These services include MySQL and PHP but you get others too like Redis and Mailhog.<\/p>\n\n\n\n<p>You may, after digging in a bit, note that there is no web server (Apache\/nginx) and this is because Sail uses PHP&#8217;s built-in web server. You can see it starting up <a href=\"http:\/\/command=\/usr\/bin\/php -d variables_order=EGPCS \/var\/www\/html\/artisan serve --host=0.0.0.0 --port=80\">in the supervisord.conf file<\/a> of the Laravel container.<\/p>\n\n\n\n<p>It&#8217;s also worth noting that the containers are, for the most part, temporary\/ephemeral and kinda don&#8217;t save their state. They get created. And they get destroyed.<\/p>\n\n\n\n<p>The exception to this is the MySql container which uses a Docker &#8220;volume&#8221; to store its data.<\/p>\n\n\n\n<p>If you&#8217;re not familiar with Docker and aren&#8217;t interested in its internals then what you need to know is:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Your Laravel project files are mapped into the container. Any changes you make locally are reflected inside the container immediately.<\/li><li>Your database is persisted. (I believe Redis state is too, but I&#8217;m not sure what the benefit of this is.)<\/li><li>Everything else is destroyed when you shut Sail down. Mostly because it doesn&#8217;t NEED to be saved. You just recreate everything in its default state the next time you need it.<\/li><\/ul>\n\n\n\n<p><a href=\"https:\/\/twitter.com\/osteel\">Yannick<\/a>&#8216;s <a href=\"https:\/\/tech.osteel.me\/posts\/you-dont-need-laravel-sail\">awesome post<\/a> gives an excellent and very detailed overview of both Docker and Sail that I&#8217;ve yet to read in full. And the free <a href=\"https:\/\/laracasts.com\/series\/whats-new-in-laravel-8\/episodes\/12\">Laracasts video<\/a> was also pretty helpful in understanding Sail.<\/p>\n\n\n\n<p>You may be a Valet or MAMP user who&#8217;s wondering what the benefits of this approach are. And I think that for smaller projects there probably aren&#8217;t many benefits. But for bigger projects there definitely are, such as ensuring the development and live environments are the same.<\/p>\n\n\n\n<p>My own curiosity came from the fact that I&#8217;d been thinking about security and how all these node and composer packages could be doing anything on my laptop. Putting them inside a container limited their ability to run amok on my laptop when doing local development. So I wanted to try it out from that point of view.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Issues with Apple Silicon\/M1<\/h2>\n\n\n\n<h3 class=\"wp-block-heading\">Summary: Sail doesn&#8217;t quite work<\/h3>\n\n\n\n<p>Sail, out of the box, doesn&#8217;t work with Apple Silicon\/M1 computers. But you can make most of it work. If you know how.<\/p>\n\n\n\n<p>Given this, I found it pretty surprising that it&#8217;s now the recommended way to get up and running with Laravel. If you&#8217;re a beginner then following the installation instructions and immediately hitting a very-complicated-to-resolve failure may put you right off. I&#8217;m NOT a beginner, but I&#8217;m empathetic and often see different sides of an experience. This would not be a good experience for a new-to-Laravel developer on an M1 Mac.<\/p>\n\n\n\n<p>Sail advertises itself as &#8220;a great starting point for building a Laravel application using PHP, MySQL, and Redis without requiring prior Docker experience&#8221;, but on my machine, I needed to learn an awful lot of Docker to make it work and understand a few other things too.<\/p>\n\n\n\n<p>You could argue that Docker for the M1 Mac&#8217;s is in tech preview\/beta, so you should not expect things to work. But I still think that people will want to try it, the documentation around it isn&#8217;t good enough, and there are some small changes that would really help.<\/p>\n\n\n\n<p>These instructions assume you have a new Laravel project created with Sail, or you&#8217;ve installed Sail into an existing Laravel project.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Fix 1: Remove Meilisearch<\/h3>\n\n\n\n<p>Meilisearch is broken. You can build the Docker images with it in place, and you can start Sail up, but when you try to interact with Sail you get an error and Sail shuts down:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ vendor\/bin\/sail shell\nbreeze_meilisearch_1    tini -- \/bin\/sh -c .\/meili ...   Exit 1\nShutting down old Sail processes...\nSail is not running.\n<\/pre><\/div>\n\n\n<p>Meilisearch feels like a very optional requirement. So I removed it.<\/p>\n\n\n\n<p>Edit the docker-compose.yml in the root of your Laravel project and remove <code>meilisearch<\/code> from the <code>depends_on<\/code> section of the <code>laravel.test<\/code> service:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: yaml; title: ; notranslate\" title=\"\">\n        depends_on:\n            - mariadb\n            - redis\n            - selenium\n            - meilisearch\n<\/pre><\/div>\n\n\n<p>Then you can delete, or if you&#8217;re hopeful of a future fix comment out, the lines for the <code>meilisearch<\/code> service lower down.<\/p>\n\n\n\n<p>Then rebuild your containers with <code>vendor\/bin\/sail build<\/code><\/p>\n\n\n\n<p>Note: I believe that if you&#8217;re installing Sail interactively then you are prompted to choose which services to install. You can just not install Meilisearch at this point and skip this first fix.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Fix 2: Swap MySql for MariaDB<\/h3>\n\n\n\n<p>Next you&#8217;ll find that the <a href=\"https:\/\/hub.docker.com\/_\/mysql\">MySql Docker image<\/a> doesn&#8217;t support ARM processors like the M1. This is even <a href=\"https:\/\/docs.docker.com\/docker-for-mac\/apple-m1\/#known-issues\">documented by Docker<\/a> with two solutions:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Run with the <code>--platform linux\/amd64<\/code> flag, which I couldn&#8217;t figure out how to do.<\/li><li>Use MariaDB instead. This <em>seemed<\/em> like an easier option, and would perform better as it would run native.<\/li><\/ul>\n\n\n\n<p>To do this you need to modify a couple of things.<\/p>\n\n\n\n<p>First, edit the <code>docker-compose.yml<\/code> file in the root of your project and replace <code>mysql<\/code> with <code>mariadb<\/code> in the <code>depends_on<\/code> section of the <code>laravel.test<\/code> service:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n        depends_on:\n            - mariadb\n            - redis\n            - selenium\n<\/pre><\/div>\n\n\n<p>You&#8217;ll then want to rename the <code>mysql<\/code> service as a <code>mariadb<\/code> service and install the right Docker image (this needs a version number but I don&#8217;t know what to give, so I&#8217;m just using the latest I guess?)<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: yaml; title: ; notranslate\" title=\"\">\n    mariadb:\n        image: 'mariadb'\n<\/pre><\/div>\n\n\n<p>Leave the rest of the mysql config intact.<\/p>\n\n\n\n<p>Then again, rebuild the containers with <code>vendor\/bin\/sail build<\/code><\/p>\n\n\n\n<p>This installs MariaDB instead of MySQL which will nicely run native, but if you try to do anything with your database at this point you&#8217;ll get connection errors:<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"474\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png\" alt=\"\" class=\"wp-image-9973\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-300x139.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-768x356.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1536x712.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-2048x949.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>but you need to configure your app to talk to the right service on the network, so edit your <code>.env<\/code> and change the <code>DB_HOST<\/code> from <code>mysql<\/code> to <code>mariadb<\/code><\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nDB_HOST=mariadb\n<\/pre><\/div>\n\n\n<p>You don&#8217;t need to rebuild your containers for this. But this should fix everything!<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">No fix for sail share \/ Expose<\/h3>\n\n\n\n<p>In theory Sail has a great sharing function that lets you share your local sail-hosted site with the outside world. It makes use of <a href=\"https:\/\/beyondco.de\/\">Beyond Code<\/a>&#8216;s open-source <a href=\"https:\/\/beyondco.de\/docs\/expose\/introduction\">Expose<\/a> product which sets up tunnels similar to ngrok and the &#8220;valet share&#8221; command if you&#8217;ve ever used that.<\/p>\n\n\n\n<p>But this also fails.<\/p>\n\n\n\n<p>This appears to run and set up a connections, but it seems that something somewhere just isn&#8217;t running. Connecting to the URL just does nothing.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"397\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-1024x397.png\" alt=\"\" class=\"wp-image-9974\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-1024x397.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-300x116.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-768x297.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-1536x595.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-2048x793.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>I&#8217;m not sure if this is an M1-specific problem or not. I&#8217;ve copied <a href=\"https:\/\/github.com\/laravel\/sail\/blob\/f7a857531a135c756c980f6df1bc47978577ca8e\/bin\/sail#L268\">the command from the Sail script<\/a> and tried running it manually with the platform flag:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\ndocker run --platform linux\/amd64 --init beyondcodegmbh\/expose-server share http:\/\/host.docker.internal:&quot;$APP_PORT&quot; \\\n            --server-host=laravel-sail.site \\\n            --server-port=8080\n<\/pre><\/div>\n\n\n<p>This gets rid of the platform error, but this still didn&#8217;t work, so maybe it&#8217;s a wider expose problem. I don&#8217;t know.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Where are my volumes\/databases?<\/h2>\n\n\n\n<p>Finally, there&#8217;s this very hidden-away bit of Docker that I really wanted to understand but couldn&#8217;t: volumes.<\/p>\n\n\n\n<p>I&#8217;d wondered if I could see the database files and maybe run a non-Docker database against them. But for all my hunting I could not find any data files for my application.<\/p>\n\n\n\n<p>The closest I got was running <code>docker inspect &lt;volume name&gt;<\/code>, which gave me this:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n$ docker inspect breeze_sailmysql\n&#x5B;\n    {\n        &quot;CreatedAt&quot;: &quot;2021-03-02T10:53:58Z&quot;,\n        &quot;Driver&quot;: &quot;local&quot;,\n        &quot;Labels&quot;: {\n            &quot;com.docker.compose.project&quot;: &quot;breeze&quot;,\n            &quot;com.docker.compose.version&quot;: &quot;1.28.2&quot;,\n            &quot;com.docker.compose.volume&quot;: &quot;sailmysql&quot;\n        },\n        &quot;Mountpoint&quot;: &quot;\/var\/lib\/docker\/volumes\/breeze_sailmysql\/_data&quot;,\n        &quot;Name&quot;: &quot;breeze_sailmysql&quot;,\n        &quot;Options&quot;: null,\n        &quot;Scope&quot;: &quot;local&quot;\n    }\n]\n<\/pre><\/div>\n\n\n<p>And I figured I should look for <code>\/var\/lib\/docker\/volumes\/breeze_sailmysql\/_data<\/code>, but I couldn&#8217;t find this or anything like it anywhere.<\/p>\n\n\n\n<p>Searching my local filesystem for Docker stuff revealed a 60GB file at <code>\/Users\/rosswintle\/Library\/Containers\/com.docker.docker\/Data\/vms\/0\/data\/Docker.raw<\/code><\/p>\n\n\n\n<p>This is referenced in the Docker preferences:<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"641\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-1024x641.png\" alt=\"\" class=\"wp-image-9977\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-1024x641.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-300x188.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-768x481.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-1536x961.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-2048x1282.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>So I&#8217;m assuming this is some kind of virtual filesystem thing that stores my containers volumes locally. This was kinda <a href=\"https:\/\/twitter.com\/osteel\/status\/1366287151382597634?s=20\">confirmed by Yannik<\/a> also.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Fin<\/h2>\n\n\n\n<p>That&#8217;s all I got. Let me know what you think of Sail, of if you think I got anything wrong.<\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>So I wanted to have a play with Laravel Breeze and Jetstream. In doing so I noticed that the instructions for Breeze (and for Laravel in general) suggest a Docker-based Laravel Sail install by default. I had not looked into Docker despite a lot of hype around it recently in my tech world. So I [&hellip;]<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                642,
                23
            ],
            "tags": [
                64,
                5054,
                643,
                5053
            ],
            "class_list": [
                "post-9966",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-laravel",
                "category-techie",
                "tag-development",
                "tag-docker",
                "tag-laravel",
                "tag-sail"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1) - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1) - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"So I wanted to have a play with Laravel Breeze and Jetstream. In doing so I noticed that the instructions for Breeze (and for Laravel in general) suggest a Docker-based Laravel Sail install by default. I had not looked into Docker despite a lot of hype around it recently in my tech world. So I [&hellip;]\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-03-02T11:49:34+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-05-14T09:21:13+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"8 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/\",\"name\":\"Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1) - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png\",\"datePublished\":\"2021-03-02T11:49:34+00:00\",\"dateModified\":\"2021-05-14T09:21:13+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#primaryimage\",\"url\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x.png\",\"contentUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x.png\",\"width\":2258,\"height\":1046},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1)\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1) - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1) - Ross Wintle",
                "og_description": "So I wanted to have a play with Laravel Breeze and Jetstream. In doing so I noticed that the instructions for Breeze (and for Laravel in general) suggest a Docker-based Laravel Sail install by default. I had not looked into Docker despite a lot of hype around it recently in my tech world. So I [&hellip;]",
                "og_url": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-03-02T11:49:34+00:00",
                "article_modified_time": "2021-05-14T09:21:13+00:00",
                "og_image": [
                    {
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "8 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/",
                            "name": "Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1) - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "primaryImageOfPage": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#primaryimage"
                            },
                            "image": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#primaryimage"
                            },
                            "thumbnailUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png",
                            "datePublished": "2021-03-02T11:49:34+00:00",
                            "dateModified": "2021-05-14T09:21:13+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "ImageObject",
                            "inLanguage": "en-US",
                            "@id": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#primaryimage",
                            "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x.png",
                            "contentUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x.png",
                            "width": 2258,
                            "height": 1046
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1)"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9966"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=9966"
                    }
                ],
                "version-history": [
                    {
                        "count": 6,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9966\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 9981,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/9966\/revisions\/9981"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=9966"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=9966"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=9966"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 9966,
        "dateGmt": "2021-03-02T11:49:34",
        "modifiedDateGmt": "2021-05-14T09:21:13",
        "slug": "getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/03\/getting-to-grip-with-docker-and-laravel-sail-on-apple-silicon-m1\/",
        "title": "Getting to grips with Docker and Laravel Sail (on Apple Silicon\/M1)",
        "content": "\n<p>So I wanted to have a play with <a href=\"https:\/\/laravel.com\/docs\/8.x\/starter-kits#laravel-breeze\">Laravel Breeze<\/a> and <a href=\"https:\/\/jetstream.laravel.com\/\">Jetstream<\/a>. In doing so I noticed that the instructions for Breeze (and for Laravel in general) suggest a Docker-based <a href=\"https:\/\/laravel.com\/docs\/8.x\/sail\">Laravel Sail<\/a> install by default.<\/p>\n\n\n\n<p>I had not looked into Docker despite a lot of hype around it recently in my tech world. So I used the new Laravel encouragements to give it a shot.<\/p>\n\n\n\n<p>BUT&#8230;I have the slight problem that I have an ARM\/Apple Silicon\/M1 MacBook, and, while a <a href=\"https:\/\/docs.docker.com\/docker-for-mac\/apple-m1\/\">Docker Tech Preview (beta) exists for this<\/a>, it has issues, and there are some things that aren&#8217;t suppored &#8211; including MySQL!<\/p>\n\n\n\n<p>This post is a super-quick overview of Sail, the issues I had on Apple Silicon and how I fixed them.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Overview of Docker and Laravel Sail<\/h2>\n\n\n\n<p>This is covered in much more detail elsewhere, but Docker is a way of making lightweight virtual machines called &#8220;containers&#8221;. Rather than running a full blown operating system, these make use of what is already there in the existing operating system and they only add or change what is not there or different.<\/p>\n\n\n\n<p><a href=\"https:\/\/twitter.com\/olilafleur\">Olivier Lafleur<\/a> recommended <a href=\"https:\/\/twitter.com\/shanselman\">Scott Hanselman&#8217;s<\/a> excellent <a href=\"https:\/\/www.youtube.com\/watch?v=0oEsMwSxBsk\">video introduction<\/a> if you want more detail on this.<\/p>\n\n\n\n<p>Laravel Sail is a set of scripts and configurations that allow you to fire up a bunch of containers running services that, together, get a Laravel application up and running. These services include MySQL and PHP but you get others too like Redis and Mailhog.<\/p>\n\n\n\n<p>You may, after digging in a bit, note that there is no web server (Apache\/nginx) and this is because Sail uses PHP&#8217;s built-in web server. You can see it starting up <a href=\"http:\/\/command=\/usr\/bin\/php -d variables_order=EGPCS \/var\/www\/html\/artisan serve --host=0.0.0.0 --port=80\">in the supervisord.conf file<\/a> of the Laravel container.<\/p>\n\n\n\n<p>It&#8217;s also worth noting that the containers are, for the most part, temporary\/ephemeral and kinda don&#8217;t save their state. They get created. And they get destroyed.<\/p>\n\n\n\n<p>The exception to this is the MySql container which uses a Docker &#8220;volume&#8221; to store its data.<\/p>\n\n\n\n<p>If you&#8217;re not familiar with Docker and aren&#8217;t interested in its internals then what you need to know is:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Your Laravel project files are mapped into the container. Any changes you make locally are reflected inside the container immediately.<\/li><li>Your database is persisted. (I believe Redis state is too, but I&#8217;m not sure what the benefit of this is.)<\/li><li>Everything else is destroyed when you shut Sail down. Mostly because it doesn&#8217;t NEED to be saved. You just recreate everything in its default state the next time you need it.<\/li><\/ul>\n\n\n\n<p><a href=\"https:\/\/twitter.com\/osteel\">Yannick<\/a>&#8216;s <a href=\"https:\/\/tech.osteel.me\/posts\/you-dont-need-laravel-sail\">awesome post<\/a> gives an excellent and very detailed overview of both Docker and Sail that I&#8217;ve yet to read in full. And the free <a href=\"https:\/\/laracasts.com\/series\/whats-new-in-laravel-8\/episodes\/12\">Laracasts video<\/a> was also pretty helpful in understanding Sail.<\/p>\n\n\n\n<p>You may be a Valet or MAMP user who&#8217;s wondering what the benefits of this approach are. And I think that for smaller projects there probably aren&#8217;t many benefits. But for bigger projects there definitely are, such as ensuring the development and live environments are the same.<\/p>\n\n\n\n<p>My own curiosity came from the fact that I&#8217;d been thinking about security and how all these node and composer packages could be doing anything on my laptop. Putting them inside a container limited their ability to run amok on my laptop when doing local development. So I wanted to try it out from that point of view.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Issues with Apple Silicon\/M1<\/h2>\n\n\n\n<h3 class=\"wp-block-heading\">Summary: Sail doesn&#8217;t quite work<\/h3>\n\n\n\n<p>Sail, out of the box, doesn&#8217;t work with Apple Silicon\/M1 computers. But you can make most of it work. If you know how.<\/p>\n\n\n\n<p>Given this, I found it pretty surprising that it&#8217;s now the recommended way to get up and running with Laravel. If you&#8217;re a beginner then following the installation instructions and immediately hitting a very-complicated-to-resolve failure may put you right off. I&#8217;m NOT a beginner, but I&#8217;m empathetic and often see different sides of an experience. This would not be a good experience for a new-to-Laravel developer on an M1 Mac.<\/p>\n\n\n\n<p>Sail advertises itself as &#8220;a great starting point for building a Laravel application using PHP, MySQL, and Redis without requiring prior Docker experience&#8221;, but on my machine, I needed to learn an awful lot of Docker to make it work and understand a few other things too.<\/p>\n\n\n\n<p>You could argue that Docker for the M1 Mac&#8217;s is in tech preview\/beta, so you should not expect things to work. But I still think that people will want to try it, the documentation around it isn&#8217;t good enough, and there are some small changes that would really help.<\/p>\n\n\n\n<p>These instructions assume you have a new Laravel project created with Sail, or you&#8217;ve installed Sail into an existing Laravel project.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Fix 1: Remove Meilisearch<\/h3>\n\n\n\n<p>Meilisearch is broken. You can build the Docker images with it in place, and you can start Sail up, but when you try to interact with Sail you get an error and Sail shuts down:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\n$ vendor\/bin\/sail shell\nbreeze_meilisearch_1    tini -- \/bin\/sh -c .\/meili ...   Exit 1\nShutting down old Sail processes...\nSail is not running.\n<\/pre><\/div>\n\n\n<p>Meilisearch feels like a very optional requirement. So I removed it.<\/p>\n\n\n\n<p>Edit the docker-compose.yml in the root of your Laravel project and remove <code>meilisearch<\/code> from the <code>depends_on<\/code> section of the <code>laravel.test<\/code> service:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: yaml; title: ; notranslate\" title=\"\">\n        depends_on:\n            - mariadb\n            - redis\n            - selenium\n            - meilisearch\n<\/pre><\/div>\n\n\n<p>Then you can delete, or if you&#8217;re hopeful of a future fix comment out, the lines for the <code>meilisearch<\/code> service lower down.<\/p>\n\n\n\n<p>Then rebuild your containers with <code>vendor\/bin\/sail build<\/code><\/p>\n\n\n\n<p>Note: I believe that if you&#8217;re installing Sail interactively then you are prompted to choose which services to install. You can just not install Meilisearch at this point and skip this first fix.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Fix 2: Swap MySql for MariaDB<\/h3>\n\n\n\n<p>Next you&#8217;ll find that the <a href=\"https:\/\/hub.docker.com\/_\/mysql\">MySql Docker image<\/a> doesn&#8217;t support ARM processors like the M1. This is even <a href=\"https:\/\/docs.docker.com\/docker-for-mac\/apple-m1\/#known-issues\">documented by Docker<\/a> with two solutions:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Run with the <code>--platform linux\/amd64<\/code> flag, which I couldn&#8217;t figure out how to do.<\/li><li>Use MariaDB instead. This <em>seemed<\/em> like an easier option, and would perform better as it would run native.<\/li><\/ul>\n\n\n\n<p>To do this you need to modify a couple of things.<\/p>\n\n\n\n<p>First, edit the <code>docker-compose.yml<\/code> file in the root of your project and replace <code>mysql<\/code> with <code>mariadb<\/code> in the <code>depends_on<\/code> section of the <code>laravel.test<\/code> service:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n        depends_on:\n            - mariadb\n            - redis\n            - selenium\n<\/pre><\/div>\n\n\n<p>You&#8217;ll then want to rename the <code>mysql<\/code> service as a <code>mariadb<\/code> service and install the right Docker image (this needs a version number but I don&#8217;t know what to give, so I&#8217;m just using the latest I guess?)<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: yaml; title: ; notranslate\" title=\"\">\n    mariadb:\n        image: 'mariadb'\n<\/pre><\/div>\n\n\n<p>Leave the rest of the mysql config intact.<\/p>\n\n\n\n<p>Then again, rebuild the containers with <code>vendor\/bin\/sail build<\/code><\/p>\n\n\n\n<p>This installs MariaDB instead of MySQL which will nicely run native, but if you try to do anything with your database at this point you&#8217;ll get connection errors:<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"474\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png\" alt=\"\" class=\"wp-image-9973\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1024x474.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-300x139.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-768x356.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-1536x712.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-10.54.57@2x-2048x949.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>but you need to configure your app to talk to the right service on the network, so edit your <code>.env<\/code> and change the <code>DB_HOST<\/code> from <code>mysql<\/code> to <code>mariadb<\/code><\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nDB_HOST=mariadb\n<\/pre><\/div>\n\n\n<p>You don&#8217;t need to rebuild your containers for this. But this should fix everything!<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">No fix for sail share \/ Expose<\/h3>\n\n\n\n<p>In theory Sail has a great sharing function that lets you share your local sail-hosted site with the outside world. It makes use of <a href=\"https:\/\/beyondco.de\/\">Beyond Code<\/a>&#8216;s open-source <a href=\"https:\/\/beyondco.de\/docs\/expose\/introduction\">Expose<\/a> product which sets up tunnels similar to ngrok and the &#8220;valet share&#8221; command if you&#8217;ve ever used that.<\/p>\n\n\n\n<p>But this also fails.<\/p>\n\n\n\n<p>This appears to run and set up a connections, but it seems that something somewhere just isn&#8217;t running. Connecting to the URL just does nothing.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"397\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-1024x397.png\" alt=\"\" class=\"wp-image-9974\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-1024x397.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-300x116.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-768x297.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-1536x595.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.01.48@2x-2048x793.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>I&#8217;m not sure if this is an M1-specific problem or not. I&#8217;ve copied <a href=\"https:\/\/github.com\/laravel\/sail\/blob\/f7a857531a135c756c980f6df1bc47978577ca8e\/bin\/sail#L268\">the command from the Sail script<\/a> and tried running it manually with the platform flag:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: bash; title: ; notranslate\" title=\"\">\ndocker run --platform linux\/amd64 --init beyondcodegmbh\/expose-server share http:\/\/host.docker.internal:&quot;$APP_PORT&quot; \\\n            --server-host=laravel-sail.site \\\n            --server-port=8080\n<\/pre><\/div>\n\n\n<p>This gets rid of the platform error, but this still didn&#8217;t work, so maybe it&#8217;s a wider expose problem. I don&#8217;t know.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Where are my volumes\/databases?<\/h2>\n\n\n\n<p>Finally, there&#8217;s this very hidden-away bit of Docker that I really wanted to understand but couldn&#8217;t: volumes.<\/p>\n\n\n\n<p>I&#8217;d wondered if I could see the database files and maybe run a non-Docker database against them. But for all my hunting I could not find any data files for my application.<\/p>\n\n\n\n<p>The closest I got was running <code>docker inspect &lt;volume name&gt;<\/code>, which gave me this:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n$ docker inspect breeze_sailmysql\n&#x5B;\n    {\n        &quot;CreatedAt&quot;: &quot;2021-03-02T10:53:58Z&quot;,\n        &quot;Driver&quot;: &quot;local&quot;,\n        &quot;Labels&quot;: {\n            &quot;com.docker.compose.project&quot;: &quot;breeze&quot;,\n            &quot;com.docker.compose.version&quot;: &quot;1.28.2&quot;,\n            &quot;com.docker.compose.volume&quot;: &quot;sailmysql&quot;\n        },\n        &quot;Mountpoint&quot;: &quot;\/var\/lib\/docker\/volumes\/breeze_sailmysql\/_data&quot;,\n        &quot;Name&quot;: &quot;breeze_sailmysql&quot;,\n        &quot;Options&quot;: null,\n        &quot;Scope&quot;: &quot;local&quot;\n    }\n]\n<\/pre><\/div>\n\n\n<p>And I figured I should look for <code>\/var\/lib\/docker\/volumes\/breeze_sailmysql\/_data<\/code>, but I couldn&#8217;t find this or anything like it anywhere.<\/p>\n\n\n\n<p>Searching my local filesystem for Docker stuff revealed a 60GB file at <code>\/Users\/rosswintle\/Library\/Containers\/com.docker.docker\/Data\/vms\/0\/data\/Docker.raw<\/code><\/p>\n\n\n\n<p>This is referenced in the Docker preferences:<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"641\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-1024x641.png\" alt=\"\" class=\"wp-image-9977\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-1024x641.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-300x188.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-768x481.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-1536x961.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/03\/CleanShot-2021-03-02-at-11.31.42@2x-2048x1282.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>So I&#8217;m assuming this is some kind of virtual filesystem thing that stores my containers volumes locally. This was kinda <a href=\"https:\/\/twitter.com\/osteel\/status\/1366287151382597634?s=20\">confirmed by Yannik<\/a> also.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Fin<\/h2>\n\n\n\n<p>That&#8217;s all I got. Let me know what you think of Sail, of if you think I got anything wrong.<\/p>\n",
        "excerpt": "<p>So I wanted to have a play with Laravel Breeze and Jetstream. In doing so I noticed that the instructions for Breeze (and for Laravel in general) suggest a Docker-based Laravel Sail install by default. I had not looked into Docker despite a lot of hype around it recently in my tech world. So I [&hellip;]<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    },
    {
        "dataAsArray": {
            "id": 10050,
            "date": "2021-03-26T10:49:01",
            "date_gmt": "2021-03-26T10:49:01",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=10050"
            },
            "modified": "2021-05-14T10:21:13",
            "modified_gmt": "2021-05-14T09:21:13",
            "slug": "css-only-spam-prevention-allow-list-captcha",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/",
            "title": {
                "rendered": "Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA"
            },
            "content": {
                "rendered": "\n<p>I have a client with a WordPress site who is getting lots of spam form submissions. For a long time I have used Ben Marshall&#8217;s excellent <a href=\"https:\/\/wordpress.org\/plugins\/zero-spam\/\">WordPress Zero Spam plugin<\/a>, which was originally a simple implementation of a <a href=\"https:\/\/davidwalsh.name\/wordpress-comment-spam\">simple idea from David Walsh<\/a> for preventing spam.<\/p>\n\n\n\n<p>David&#8217;s idea was kinda like a reverse honeypot. A traditional honeypot is a hidden HTML input that is empty. It tempts the bots into filling it in with a value. Because it&#8217;s hidden a human won&#8217;t see it and fill it in, so a submitted honeypot value probably means a bot filled the form in.<\/p>\n\n\n\n<p>David Walsh used JavaScript to ADD an input to the form, and the spam test was to detect this additional input. All this really did was say &#8220;this form was submitted by a browser that runs JavaScript&#8221;.<\/p>\n\n\n\n<p>There are two problems with this method.<\/p>\n\n\n\n<p>Firstly, it requires JavaScript to be working.<\/p>\n\n\n\n<p>And secondly, spam is clearly an arms race, and the game is to stay one step ahead of the bots. Most bots, it seems, aren&#8217;t currently running headless browsers that run JavaScript. I always though the David Walsh method would soon be defeated but it&#8217;s been working well for the many years I&#8217;ve been using it.<\/p>\n\n\n\n<p>BUT&#8230; Ben Marshall (note: I&#8217;m REALLY grateful for Ben&#8217;s work and I have every respect for him) removed the David Walsh method from version 5 of his plugin, and then added it back in, but it only currently seems to work for comment forms and WordPress registration forms. And I need it to integrate with WP Forms and Gravity Forms.<\/p>\n\n\n\n<p>Another implementation of the David Walsh method exists in <a href=\"https:\/\/twitter.com\/binarymoon\">Ben Gillbanks<\/a>&#8216;s excellent, multi-purpose &#8220;<a href=\"https:\/\/wordpress.org\/plugins\/wp-toolbelt\/\">Toolbelt<\/a>&#8221; plugin. But this only works for Gravity Forms and Jetpack in addition to the standard WordPress forms.<\/p>\n\n\n\n<p>NOW&#8230; both these plugins are open source, so I could pull-request the features I need into the plugins. And I may do that, but it will take time to understand the plugin structure and add it and get the changes approved and published by the authors.<\/p>\n\n\n\n<p>My client needs a quick fix.<\/p>\n\n\n\n<p>And it&#8217;s always bugged me that JavaScript is needed for the David Walsh method. So I got thinking&#8230; can we do something without JavaScript?<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">An idea<\/h2>\n\n\n\n<p>So here&#8217;s the idea.<\/p>\n\n\n\n<p>As the bots don&#8217;t seem to be running browsers, I assume they are just scraping the form, figuring out the input fields, and POST&#8217;ing responses to the action URLs.<\/p>\n\n\n\n<p>So I thought: we don&#8217;t want JavaScript, but what might we do with CSS? I eventually settled on the idea that we can load an image with CSS and this can hit a server endpoint. If we can do this conditionally based on some user action then we can tell the server we are real.<\/p>\n\n\n\n<p>The server can then add the IP address of the browser to an allow list temporarily (we&#8217;ll come back to this) and allow form submissions from it!<\/p>\n\n\n\n<p>Initially I thought you could use the &#8220;active&#8221; state on the submit button element to trigger a load of a background image &#8220;pixel&#8221; on an adjacent element using something like:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: css; title: ; notranslate\" title=\"\">\ninput&#x5B;type=&quot;submit&quot;]:active + .pixel {\n  background-image: url(&lt;pixel-url&gt;);\n}\n<\/pre><\/div>\n\n\n<p>I chose <code>active<\/code> over <code>focus<\/code> because I wasn&#8217;t sure if a mobile device button press would trigger focus.<\/p>\n\n\n\n<p>The problem with <code>active<\/code> is: does this give enough time before the form submits to do the allow-listing that the pixel URL\/endpoint does?<\/p>\n\n\n\n<p>In my tests the answer was no. I thought I would get a race condition, but it actually seemed that the browser cancelled the background-image load to submit the form.<\/p>\n\n\n\n<p>So I needed another approach.<\/p>\n\n\n\n<p>I eventually discovered the <code>focus-within<\/code> state. This state is set on an element when any child element has focus. And this meant that I could load the pixel and do the allow-listing when the user is filling in the form using CSS like this:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: css; title: ; notranslate\" title=\"\">\nform:focus-within .pixel {\n  background-image: url(&lt;pixel-url&gt;);\n}\n<\/pre><\/div>\n\n\n<p>We can then use the pixel URL endpoint to add the browser&#8217;s IP address to the allow-list for a set period of time (would have to be long enough for the user to fill in the form), and then check the allow list when the form is submitted.<\/p>\n\n\n\n<p>I initially tested this as a proof of concept with a simple Laravel application form:<\/p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"CSS only spam\/allow-listing CAPTCHA thingy proof of concept\" src=\"https:\/\/player.vimeo.com\/video\/529274399?dnt=1&amp;app_id=122963\" width=\"640\" height=\"340\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>This worked and proved the concept. But as a real test I needed to get it quickly onto my client&#8217;s site that had lots of spam, so I quickly cooked up <a href=\"https:\/\/gist.github.com\/rosswintle\/0f65bea09a59b19d4486f190c46198bb\">a one-file WordPress plugin<\/a> that integrated this method with WP Forms.<\/p>\n\n\n\n<p>I tested this locally with success:<\/p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"CSS only spam\/allow-listing captcha thingy in WP Forms\" src=\"https:\/\/player.vimeo.com\/video\/529279362?dnt=1&amp;app_id=122963\" width=\"640\" height=\"326\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>And then deployed to the client site to see what happened. I wait to see if it works.<\/p>\n\n\n\n<p>Update: My client has had two days with no spam, the logs I&#8217;m creating show that spam is being blocked, and we&#8217;re also seeing genuine enquiries getting through. It WORKS!! (I think!!)<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Questions and explanations<\/h2>\n\n\n\n<p>Here are some things I&#8217;ve got questions about and some things that I&#8217;ve already thought through.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">How is this better than a traditional honeypot?<\/h3>\n\n\n\n<p>Bots seem to have figured out how to circumvent some traditional honeypots. I&#8217;ve always found the David Walsh technique to be more effective.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">How is this better than the David Walsh technique?<\/h3>\n\n\n\n<p>It doesn&#8217;t use JavaScript. And it&#8217;s MINE!<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Storing the allow-list<\/h3>\n\n\n\n<p>This, like all spam-prevention solutions, is not perfect. For one thing I&#8217;m using transients to store the allow-listed IP addresses. The reason for this is that if I stored a single option with a list of IP addresses in then this could have race conditions that caused IP addresses to not make it on the list. This will clutter up the options table with transient entries. So I need to re-think that.<\/p>\n\n\n\n<p>Generating a testing a nonce has been suggested as an alternative. These are not stored in the database so are cleaner. But there&#8217;s probably page-caching issues. I will investigate this.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Won&#8217;t bots just allow-list themselves by hitting the pixel URL?<\/h3>\n\n\n\n<p>I guess the idea here is that this is not a widely-known spam prevention measure. The aim is to get another step ahead of the bots. The bots go for the easy wins &#8211; they attack the holes that are likely to get them access across a large number of sites. So diversity of spam prevention solutions seems good.<\/p>\n\n\n\n<p>I think I could get another step ahead by periodically changing the pixel URL and the class name on the pixel element.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Won&#8217;t this stop working once bots start using headless browsers?<\/h3>\n\n\n\n<p>Yes. But I think at that point, aside from implementing proper (Re)CAPTCHAs, I think we&#8217;re probably screwed.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Accessibility and screen-readers and browser support<\/h3>\n\n\n\n<p>I probably need to make a couple of accessibility improvements, mainly properly hiding the pixel element from screen readers.<\/p>\n\n\n\n<p>I&#8217;m also not sure how this will work with some screen readers. Can I assume that screen readers set the focus state? Do screen readers support the focus-within state?<\/p>\n\n\n\n<p>And focus-within doesn&#8217;t work on IE11.<\/p>\n\n\n\n<p>One thought I&#8217;d has is that you could detect focus and enable the pixel using Javascript as well as CSS. Then CSS acts as a fallback for when Javascript isn&#8217;t available.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">What if CSS is disabled<\/h3>\n\n\n\n<p>It seems this can be done. But I wonder what the probably that both CSS and JS are unavailable in the real world is? My CSS is inlined, so it doesn&#8217;t need an extra file to be loaded. The only case would be if someone had deliberately disabled CSS. Does anyone do that?<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Are there privacy\/data protection\/GDPR issues?<\/h3>\n\n\n\n<p>IP addresses are classed as personal data. But if someone&#8217;s sending you a form submission then you&#8217;re probably already collecting personal data. I would just be clear in our the privacy policy that the IP address is stored temporarily for spam prevention purposes. <\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Will you be making this into a WordPress plugin\/Laravel package?<\/h3>\n\n\n\n<p>Well, you can see <a href=\"https:\/\/gist.github.com\/rosswintle\/0f65bea09a59b19d4486f190c46198bb\">the simple WordPress plugin code I got working with WP Forms<\/a>. That&#8217;s currently being tested on a site that I know gets spam form entries.<\/p>\n\n\n\n<p>You can take that and try to make your own integrations\/plugins\/packages. I&#8217;d love people to take this concept and run with it.<\/p>\n\n\n\n<p><\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>An idea for a CSS-only spam prevention system that uses a white list and simple CAPTCHA, complete with WordPress plugin code.<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                10,
                23,
                639
            ],
            "tags": [
                534,
                462
            ],
            "class_list": [
                "post-10050",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-general",
                "category-techie",
                "category-wordpress",
                "tag-plugin",
                "tag-wordpress"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"An idea for a CSS-only spam prevention system that uses a white list and simple CAPTCHA, complete with WordPress plugin code.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-03-26T10:49:01+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-05-14T09:21:13+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"600\" \/>\n\t<meta property=\"og:image:height\" content=\"399\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"6 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/\",\"name\":\"Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"datePublished\":\"2021-03-26T10:49:01+00:00\",\"dateModified\":\"2021-05-14T09:21:13+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA - Ross Wintle",
                "og_description": "An idea for a CSS-only spam prevention system that uses a white list and simple CAPTCHA, complete with WordPress plugin code.",
                "og_url": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-03-26T10:49:01+00:00",
                "article_modified_time": "2021-05-14T09:21:13+00:00",
                "og_image": [
                    {
                        "width": 600,
                        "height": 399,
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg",
                        "type": "image\/jpeg"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "6 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/",
                            "name": "Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "datePublished": "2021-03-26T10:49:01+00:00",
                            "dateModified": "2021-05-14T09:21:13+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10050"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=10050"
                    }
                ],
                "version-history": [
                    {
                        "count": 7,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10050\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 10063,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10050\/revisions\/10063"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=10050"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=10050"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=10050"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 10050,
        "dateGmt": "2021-03-26T10:49:01",
        "modifiedDateGmt": "2021-05-14T09:21:13",
        "slug": "css-only-spam-prevention-allow-list-captcha",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/03\/css-only-spam-prevention-allow-list-captcha\/",
        "title": "Idea: CSS-only spam prevention with a simple allow-list and CAPTCHA",
        "content": "\n<p>I have a client with a WordPress site who is getting lots of spam form submissions. For a long time I have used Ben Marshall&#8217;s excellent <a href=\"https:\/\/wordpress.org\/plugins\/zero-spam\/\">WordPress Zero Spam plugin<\/a>, which was originally a simple implementation of a <a href=\"https:\/\/davidwalsh.name\/wordpress-comment-spam\">simple idea from David Walsh<\/a> for preventing spam.<\/p>\n\n\n\n<p>David&#8217;s idea was kinda like a reverse honeypot. A traditional honeypot is a hidden HTML input that is empty. It tempts the bots into filling it in with a value. Because it&#8217;s hidden a human won&#8217;t see it and fill it in, so a submitted honeypot value probably means a bot filled the form in.<\/p>\n\n\n\n<p>David Walsh used JavaScript to ADD an input to the form, and the spam test was to detect this additional input. All this really did was say &#8220;this form was submitted by a browser that runs JavaScript&#8221;.<\/p>\n\n\n\n<p>There are two problems with this method.<\/p>\n\n\n\n<p>Firstly, it requires JavaScript to be working.<\/p>\n\n\n\n<p>And secondly, spam is clearly an arms race, and the game is to stay one step ahead of the bots. Most bots, it seems, aren&#8217;t currently running headless browsers that run JavaScript. I always though the David Walsh method would soon be defeated but it&#8217;s been working well for the many years I&#8217;ve been using it.<\/p>\n\n\n\n<p>BUT&#8230; Ben Marshall (note: I&#8217;m REALLY grateful for Ben&#8217;s work and I have every respect for him) removed the David Walsh method from version 5 of his plugin, and then added it back in, but it only currently seems to work for comment forms and WordPress registration forms. And I need it to integrate with WP Forms and Gravity Forms.<\/p>\n\n\n\n<p>Another implementation of the David Walsh method exists in <a href=\"https:\/\/twitter.com\/binarymoon\">Ben Gillbanks<\/a>&#8216;s excellent, multi-purpose &#8220;<a href=\"https:\/\/wordpress.org\/plugins\/wp-toolbelt\/\">Toolbelt<\/a>&#8221; plugin. But this only works for Gravity Forms and Jetpack in addition to the standard WordPress forms.<\/p>\n\n\n\n<p>NOW&#8230; both these plugins are open source, so I could pull-request the features I need into the plugins. And I may do that, but it will take time to understand the plugin structure and add it and get the changes approved and published by the authors.<\/p>\n\n\n\n<p>My client needs a quick fix.<\/p>\n\n\n\n<p>And it&#8217;s always bugged me that JavaScript is needed for the David Walsh method. So I got thinking&#8230; can we do something without JavaScript?<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">An idea<\/h2>\n\n\n\n<p>So here&#8217;s the idea.<\/p>\n\n\n\n<p>As the bots don&#8217;t seem to be running browsers, I assume they are just scraping the form, figuring out the input fields, and POST&#8217;ing responses to the action URLs.<\/p>\n\n\n\n<p>So I thought: we don&#8217;t want JavaScript, but what might we do with CSS? I eventually settled on the idea that we can load an image with CSS and this can hit a server endpoint. If we can do this conditionally based on some user action then we can tell the server we are real.<\/p>\n\n\n\n<p>The server can then add the IP address of the browser to an allow list temporarily (we&#8217;ll come back to this) and allow form submissions from it!<\/p>\n\n\n\n<p>Initially I thought you could use the &#8220;active&#8221; state on the submit button element to trigger a load of a background image &#8220;pixel&#8221; on an adjacent element using something like:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: css; title: ; notranslate\" title=\"\">\ninput&#x5B;type=&quot;submit&quot;]:active + .pixel {\n  background-image: url(&lt;pixel-url&gt;);\n}\n<\/pre><\/div>\n\n\n<p>I chose <code>active<\/code> over <code>focus<\/code> because I wasn&#8217;t sure if a mobile device button press would trigger focus.<\/p>\n\n\n\n<p>The problem with <code>active<\/code> is: does this give enough time before the form submits to do the allow-listing that the pixel URL\/endpoint does?<\/p>\n\n\n\n<p>In my tests the answer was no. I thought I would get a race condition, but it actually seemed that the browser cancelled the background-image load to submit the form.<\/p>\n\n\n\n<p>So I needed another approach.<\/p>\n\n\n\n<p>I eventually discovered the <code>focus-within<\/code> state. This state is set on an element when any child element has focus. And this meant that I could load the pixel and do the allow-listing when the user is filling in the form using CSS like this:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: css; title: ; notranslate\" title=\"\">\nform:focus-within .pixel {\n  background-image: url(&lt;pixel-url&gt;);\n}\n<\/pre><\/div>\n\n\n<p>We can then use the pixel URL endpoint to add the browser&#8217;s IP address to the allow-list for a set period of time (would have to be long enough for the user to fill in the form), and then check the allow list when the form is submitted.<\/p>\n\n\n\n<p>I initially tested this as a proof of concept with a simple Laravel application form:<\/p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"CSS only spam\/allow-listing CAPTCHA thingy proof of concept\" src=\"https:\/\/player.vimeo.com\/video\/529274399?dnt=1&amp;app_id=122963\" width=\"640\" height=\"340\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>This worked and proved the concept. But as a real test I needed to get it quickly onto my client&#8217;s site that had lots of spam, so I quickly cooked up <a href=\"https:\/\/gist.github.com\/rosswintle\/0f65bea09a59b19d4486f190c46198bb\">a one-file WordPress plugin<\/a> that integrated this method with WP Forms.<\/p>\n\n\n\n<p>I tested this locally with success:<\/p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"CSS only spam\/allow-listing captcha thingy in WP Forms\" src=\"https:\/\/player.vimeo.com\/video\/529279362?dnt=1&amp;app_id=122963\" width=\"640\" height=\"326\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>And then deployed to the client site to see what happened. I wait to see if it works.<\/p>\n\n\n\n<p>Update: My client has had two days with no spam, the logs I&#8217;m creating show that spam is being blocked, and we&#8217;re also seeing genuine enquiries getting through. It WORKS!! (I think!!)<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Questions and explanations<\/h2>\n\n\n\n<p>Here are some things I&#8217;ve got questions about and some things that I&#8217;ve already thought through.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">How is this better than a traditional honeypot?<\/h3>\n\n\n\n<p>Bots seem to have figured out how to circumvent some traditional honeypots. I&#8217;ve always found the David Walsh technique to be more effective.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">How is this better than the David Walsh technique?<\/h3>\n\n\n\n<p>It doesn&#8217;t use JavaScript. And it&#8217;s MINE!<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Storing the allow-list<\/h3>\n\n\n\n<p>This, like all spam-prevention solutions, is not perfect. For one thing I&#8217;m using transients to store the allow-listed IP addresses. The reason for this is that if I stored a single option with a list of IP addresses in then this could have race conditions that caused IP addresses to not make it on the list. This will clutter up the options table with transient entries. So I need to re-think that.<\/p>\n\n\n\n<p>Generating a testing a nonce has been suggested as an alternative. These are not stored in the database so are cleaner. But there&#8217;s probably page-caching issues. I will investigate this.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Won&#8217;t bots just allow-list themselves by hitting the pixel URL?<\/h3>\n\n\n\n<p>I guess the idea here is that this is not a widely-known spam prevention measure. The aim is to get another step ahead of the bots. The bots go for the easy wins &#8211; they attack the holes that are likely to get them access across a large number of sites. So diversity of spam prevention solutions seems good.<\/p>\n\n\n\n<p>I think I could get another step ahead by periodically changing the pixel URL and the class name on the pixel element.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Won&#8217;t this stop working once bots start using headless browsers?<\/h3>\n\n\n\n<p>Yes. But I think at that point, aside from implementing proper (Re)CAPTCHAs, I think we&#8217;re probably screwed.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Accessibility and screen-readers and browser support<\/h3>\n\n\n\n<p>I probably need to make a couple of accessibility improvements, mainly properly hiding the pixel element from screen readers.<\/p>\n\n\n\n<p>I&#8217;m also not sure how this will work with some screen readers. Can I assume that screen readers set the focus state? Do screen readers support the focus-within state?<\/p>\n\n\n\n<p>And focus-within doesn&#8217;t work on IE11.<\/p>\n\n\n\n<p>One thought I&#8217;d has is that you could detect focus and enable the pixel using Javascript as well as CSS. Then CSS acts as a fallback for when Javascript isn&#8217;t available.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">What if CSS is disabled<\/h3>\n\n\n\n<p>It seems this can be done. But I wonder what the probably that both CSS and JS are unavailable in the real world is? My CSS is inlined, so it doesn&#8217;t need an extra file to be loaded. The only case would be if someone had deliberately disabled CSS. Does anyone do that?<\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Are there privacy\/data protection\/GDPR issues?<\/h3>\n\n\n\n<p>IP addresses are classed as personal data. But if someone&#8217;s sending you a form submission then you&#8217;re probably already collecting personal data. I would just be clear in our the privacy policy that the IP address is stored temporarily for spam prevention purposes. <\/p>\n\n\n\n<h3 class=\"wp-block-heading\">Will you be making this into a WordPress plugin\/Laravel package?<\/h3>\n\n\n\n<p>Well, you can see <a href=\"https:\/\/gist.github.com\/rosswintle\/0f65bea09a59b19d4486f190c46198bb\">the simple WordPress plugin code I got working with WP Forms<\/a>. That&#8217;s currently being tested on a site that I know gets spam form entries.<\/p>\n\n\n\n<p>You can take that and try to make your own integrations\/plugins\/packages. I&#8217;d love people to take this concept and run with it.<\/p>\n\n\n\n<p><\/p>\n",
        "excerpt": "<p>An idea for a CSS-only spam prevention system that uses a white list and simple CAPTCHA, complete with WordPress plugin code.<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    },
    {
        "dataAsArray": {
            "id": 10103,
            "date": "2021-04-12T19:22:50",
            "date_gmt": "2021-04-12T18:22:50",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=10103"
            },
            "modified": "2021-04-12T19:23:43",
            "modified_gmt": "2021-04-12T18:23:43",
            "slug": "laravel-livewire-testing-object-model-properties-of-components",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/",
            "title": {
                "rendered": "Tech Notes: Laravel Livewire &#8211; testing object\/model properties of components"
            },
            "content": {
                "rendered": "\n<p>This is a super quick note to my future self &#8211; and you? &#8211; about testing object\/model properties of Laravel Livewire components.<\/p>\n\n\n\n<p>I&#8217;m working on a really simple project and using it as an excuse to practice TDD with Laravel.<\/p>\n\n\n\n<p>I have user-selectable template and my Templates component lets the user select a new template.<\/p>\n\n\n\n<p>My test is pretty simple.<\/p>\n\n\n\n<p>Set up a user and two templates, then assign the first template ID to the user. Note that templates have an owner (<code>$template-&gt;owner_id<\/code>), but the user also has a chosen template (<code>$user-&gt;template_id<\/code>):<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: php; title: ; notranslate\" title=\"\">\n\/\/ Arrange\n$user = User::factory()-&gt;create();\n$template1 = Template::factory()-&gt;create(&#x5B;\n    'owner_id' =&gt; $user-&gt;id,\n]);\n$template2 = Template::factory()-&gt;create(&#x5B;\n    'owner_id' =&gt; $user-&gt;id,\n]);\n$user-&gt;update(&#x5B;'template_id' =&gt; $template1-&gt;id]);\n<\/pre><\/div>\n\n\n<p>Then, acting as the user, test the <code>Templates<\/code> component, call the <code>setUserTemplate<\/code> method then assert that the <code>currentTemplate<\/code> property has changed.<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n\/\/ Act\nLivewire::actingAs($user)\n    -&gt;test(\\App\\Http\\Livewire\\Templates::class)\n    -&gt;call('setUserTemplate', $template2-&gt;id)\n    -&gt;assertSet('currentTemplate', $template2);\n<\/pre><\/div>\n\n\n<p>Before we run the test, I note that the currentTemplate, in the Livewire component, is an Eloquent Model object.<\/p>\n\n\n\n<p>If we run the test we get:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nFailed asserting that two objects are equal.\n--- Expected\n+++ Actual\n@@ @@\n App\\Models\\Template Object (\n     'connection' =&gt; 'sqlite'\n-    'table' =&gt; null\n+    'table' =&gt; 'templates'\n     'primaryKey' =&gt; 'id'\n     'keyType' =&gt; 'int'\n     'incrementing' =&gt; true\n@@ @@\n     'withCount' =&gt; Array ()\n     'perPage' =&gt; 15\n     'exists' =&gt; true\n-    'wasRecentlyCreated' =&gt; true\n+    'wasRecentlyCreated' =&gt; false\n     'attributes' =&gt; Array (...)\n     'original' =&gt; Array (...)\n     'changes' =&gt; Array ()\n<\/pre><\/div>\n\n\n<p>Showing that the <code>table<\/code> and <code>wasRecentlyCreated<\/code> properties of the Template object. The object properties are the same, but it&#8217;s a slightly different object behind the scenes.<\/p>\n\n\n\n<p>The problem here is that <code>$template2<\/code> is the original template we created using the factory in the test setup. But the <code>currentTemplate<\/code> in the component will have been fetched from the database.<\/p>\n\n\n\n<p>The fix for this it to re-fetch <code>$template2<\/code> from the database before we compare it. We can do this with <code>$template2-&gt;fresh()<\/code><\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: php; title: ; notranslate\" title=\"\">\n\/\/ Act\nLivewire::actingAs($user)\n    -&gt;test(\\App\\Http\\Livewire\\Templates::class)\n    -&gt;call('setUserTemplate', $template2-&gt;id)\n    -&gt;assertSet('currentTemplate', $template2-&gt;fresh());\n<\/pre><\/div>\n\n\n<p>This gives us a nice green test:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nPHPUnit 9.5.2 by Sebastian Bergmann and contributors.\n\n.                                                                   1 \/ 1 (100%)\n\nTime: 00:00.212, Memory: 32.50 MB\n\nOK (1 test, 3 assertions)\n<\/pre><\/div>\n\n\n<p>Hooray!<\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>A quick tip for testing Laravel Livewire components with object\/model properties.<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                642,
                23
            ],
            "tags": [],
            "class_list": [
                "post-10103",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-laravel",
                "category-techie"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Tech Notes: Laravel Livewire - testing object\/model properties of components - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Tech Notes: Laravel Livewire - testing object\/model properties of components - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"A quick tip for testing Laravel Livewire components with object\/model properties.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-04-12T18:22:50+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-04-12T18:23:43+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"600\" \/>\n\t<meta property=\"og:image:height\" content=\"399\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/\",\"name\":\"Tech Notes: Laravel Livewire - testing object\/model properties of components - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"datePublished\":\"2021-04-12T18:22:50+00:00\",\"dateModified\":\"2021-04-12T18:23:43+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Tech Notes: Laravel Livewire &#8211; testing object\/model properties of components\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Tech Notes: Laravel Livewire - testing object\/model properties of components - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Tech Notes: Laravel Livewire - testing object\/model properties of components - Ross Wintle",
                "og_description": "A quick tip for testing Laravel Livewire components with object\/model properties.",
                "og_url": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-04-12T18:22:50+00:00",
                "article_modified_time": "2021-04-12T18:23:43+00:00",
                "og_image": [
                    {
                        "width": 600,
                        "height": 399,
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg",
                        "type": "image\/jpeg"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "2 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/",
                            "name": "Tech Notes: Laravel Livewire - testing object\/model properties of components - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "datePublished": "2021-04-12T18:22:50+00:00",
                            "dateModified": "2021-04-12T18:23:43+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Tech Notes: Laravel Livewire &#8211; testing object\/model properties of components"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10103"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=10103"
                    }
                ],
                "version-history": [
                    {
                        "count": 4,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10103\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 10107,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10103\/revisions\/10107"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=10103"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=10103"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=10103"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 10103,
        "dateGmt": "2021-04-12T18:22:50",
        "modifiedDateGmt": "2021-04-12T18:23:43",
        "slug": "laravel-livewire-testing-object-model-properties-of-components",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/04\/laravel-livewire-testing-object-model-properties-of-components\/",
        "title": "Tech Notes: Laravel Livewire &#8211; testing object\/model properties of components",
        "content": "\n<p>This is a super quick note to my future self &#8211; and you? &#8211; about testing object\/model properties of Laravel Livewire components.<\/p>\n\n\n\n<p>I&#8217;m working on a really simple project and using it as an excuse to practice TDD with Laravel.<\/p>\n\n\n\n<p>I have user-selectable template and my Templates component lets the user select a new template.<\/p>\n\n\n\n<p>My test is pretty simple.<\/p>\n\n\n\n<p>Set up a user and two templates, then assign the first template ID to the user. Note that templates have an owner (<code>$template-&gt;owner_id<\/code>), but the user also has a chosen template (<code>$user-&gt;template_id<\/code>):<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: php; title: ; notranslate\" title=\"\">\n\/\/ Arrange\n$user = User::factory()-&gt;create();\n$template1 = Template::factory()-&gt;create(&#x5B;\n    'owner_id' =&gt; $user-&gt;id,\n]);\n$template2 = Template::factory()-&gt;create(&#x5B;\n    'owner_id' =&gt; $user-&gt;id,\n]);\n$user-&gt;update(&#x5B;'template_id' =&gt; $template1-&gt;id]);\n<\/pre><\/div>\n\n\n<p>Then, acting as the user, test the <code>Templates<\/code> component, call the <code>setUserTemplate<\/code> method then assert that the <code>currentTemplate<\/code> property has changed.<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\n\/\/ Act\nLivewire::actingAs($user)\n    -&gt;test(\\App\\Http\\Livewire\\Templates::class)\n    -&gt;call('setUserTemplate', $template2-&gt;id)\n    -&gt;assertSet('currentTemplate', $template2);\n<\/pre><\/div>\n\n\n<p>Before we run the test, I note that the currentTemplate, in the Livewire component, is an Eloquent Model object.<\/p>\n\n\n\n<p>If we run the test we get:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nFailed asserting that two objects are equal.\n--- Expected\n+++ Actual\n@@ @@\n App\\Models\\Template Object (\n     'connection' =&gt; 'sqlite'\n-    'table' =&gt; null\n+    'table' =&gt; 'templates'\n     'primaryKey' =&gt; 'id'\n     'keyType' =&gt; 'int'\n     'incrementing' =&gt; true\n@@ @@\n     'withCount' =&gt; Array ()\n     'perPage' =&gt; 15\n     'exists' =&gt; true\n-    'wasRecentlyCreated' =&gt; true\n+    'wasRecentlyCreated' =&gt; false\n     'attributes' =&gt; Array (...)\n     'original' =&gt; Array (...)\n     'changes' =&gt; Array ()\n<\/pre><\/div>\n\n\n<p>Showing that the <code>table<\/code> and <code>wasRecentlyCreated<\/code> properties of the Template object. The object properties are the same, but it&#8217;s a slightly different object behind the scenes.<\/p>\n\n\n\n<p>The problem here is that <code>$template2<\/code> is the original template we created using the factory in the test setup. But the <code>currentTemplate<\/code> in the component will have been fetched from the database.<\/p>\n\n\n\n<p>The fix for this it to re-fetch <code>$template2<\/code> from the database before we compare it. We can do this with <code>$template2-&gt;fresh()<\/code><\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: php; title: ; notranslate\" title=\"\">\n\/\/ Act\nLivewire::actingAs($user)\n    -&gt;test(\\App\\Http\\Livewire\\Templates::class)\n    -&gt;call('setUserTemplate', $template2-&gt;id)\n    -&gt;assertSet('currentTemplate', $template2-&gt;fresh());\n<\/pre><\/div>\n\n\n<p>This gives us a nice green test:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nPHPUnit 9.5.2 by Sebastian Bergmann and contributors.\n\n.                                                                   1 \/ 1 (100%)\n\nTime: 00:00.212, Memory: 32.50 MB\n\nOK (1 test, 3 assertions)\n<\/pre><\/div>\n\n\n<p>Hooray!<\/p>\n",
        "excerpt": "<p>A quick tip for testing Laravel Livewire components with object\/model properties.<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    },
    {
        "dataAsArray": {
            "id": 10108,
            "date": "2021-04-12T20:50:52",
            "date_gmt": "2021-04-12T19:50:52",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=10108"
            },
            "modified": "2021-04-12T20:56:58",
            "modified_gmt": "2021-04-12T19:56:58",
            "slug": "tweet-finder-twitter-advanced-search",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/",
            "title": {
                "rendered": "Mini Project: Tweet Finder &#8211; Twitter Advanced Search"
            },
            "content": {
                "rendered": "\n<p><em>How and why I made <a href=\"https:\/\/tweet-finder.veryuseful.app\/\">a simple interface for Twitter&#8217;s advanced search<\/a>.<\/em><\/p>\n\n\n\n<p>This has been on my mind for ages.<\/p>\n\n\n\n<p>I often search for Tweets that I remember seeing. And Twitter has this advanced search that lets you search Tweets from and to specific users, on or between specific dates, mentioning specific users or hashtags, and some other things.<\/p>\n\n\n\n<p>This advanced search is hard to get to: you need to do a simple search, and then click the settings dots, and then select &#8220;Advanced search&#8221; and THEN you get a pop up with the options.<\/p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"Twitter Advanced Search - getting to it!\" src=\"https:\/\/player.vimeo.com\/video\/536005074?dnt=1&amp;app_id=122963\" width=\"640\" height=\"373\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>So it&#8217;s hard to get to. But it&#8217;s also hard to use.<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>I have to think twice about whether or not usernames need @&#8217;s before them;<\/li><li>once you&#8217;ve done a search, it defaults to &#8220;Top&#8221; Tweets, which i rarely want;<\/li><li>the options pop-up resets itself so refining your search is tricky.<\/li><\/ul>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"Advanced Twitter Search - weird options experience\" src=\"https:\/\/player.vimeo.com\/video\/536009269?dnt=1&amp;app_id=122963\" width=\"640\" height=\"373\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>So I&#8217;ve had this idea for a while that someone could probably pretty easily figure out how the parameters are sent to Twitter&#8217;s search page and create a simpler interface.<\/p>\n\n\n\n<p>And, though I&#8217;m sure someone must have done it before, that&#8217;s exactly what I did.<\/p>\n\n\n\n<p>I&#8217;ve started with the options I use most. Condensed the search query into a single field with explainer, and added &#8220;from account&#8221; and &#8220;to account&#8221;. This covers quite a lot of bases:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Find that Tweet I sent about&#8230;<\/li><li>Find that Tweet I sent to @specific_person about&#8230;<\/li><li>Find that Tweet someone sent to me about&#8230;<\/li><li>Find that Tweet the @specifc_person sent to me about&#8230;<\/li><li>Find that recent conversation I had with @specific_person<\/li><\/ul>\n\n\n\n<p>I figured out the parameters, created a form, gave it some styling and shoved it online using <a href=\"https:\/\/netlify.com\/\">Netlify<\/a> &#8211; it&#8217;s only a single HTML file and some Tailwind styles so static hosting is fine.<\/p>\n\n\n\n<p>Try it at <a href=\"https:\/\/tweet-finder.veryuseful.app\/\">https:\/\/tweet-finder.veryuseful.app\/<\/a><\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Creator notes<\/h2>\n\n\n\n<p>Creating the form was pretty simple.<\/p>\n\n\n\n<p>I had to use a bit of vanilla JavaScript to improve the experience: adding @&#8217;s to usernames where they aren&#8217;t provided so that you don&#8217;t have to think about it and compiling the form data into a query string.<\/p>\n\n\n\n<p>When it came to styling, it was total overkill, but I wanted to see how easy it was to add TailwindCSS to such a simple project.<\/p>\n\n\n\n<p>Initially I got confused by <a href=\"https:\/\/tailwindcss.com\/docs\/installation\">the documentation<\/a> which very much assumes you&#8217;re already using a framework or build tool, or otherwise have PostCSS in a toolchain somehow.<\/p>\n\n\n\n<p>I was about to give up but eventually found the &#8220;<a href=\"https:\/\/tailwindcss.com\/docs\/installation#using-tailwind-without-post-css\">Using Tailwind without PostCSS<\/a>&#8221; section. This is really not that hard to find but for some reason I ignored it the first time I read through. Maybe I thought this was about the &#8220;include vast amounts of CSS using <a href=\"https:\/\/tailwindcss.com\/docs\/installation#using-tailwind-via-cdn\">the CDN version<\/a>&#8221; approach? Not sure.<\/p>\n\n\n\n<p>Anyway, with a simple <code>npx<\/code> command (once you&#8217;ve got node and everything sorted out) you can get going.<\/p>\n\n\n\n<p>I wanted to use <a href=\"https:\/\/github.com\/tailwindlabs\/tailwindcss-forms\">the forms plugin<\/a> so I had to <a href=\"https:\/\/tailwindcss.com\/docs\/installation#customizing-your-configuration\">init myself a Tailwind config file<\/a>, create a <a href=\"https:\/\/github.com\/rosswintle\/tweet-finder\/blob\/main\/src\/tailwind.css\">boilerplate custom CSS file<\/a>, create a <code>package.json<\/code> (did the <code>npx<\/code> command do this for me?) and add <code>@tailwindcss\/forms<\/code> to it as a dependency.<\/p>\n\n\n\n<p>Suddenly I was doing a lot, and I now had custom build commands to remember, so I added these to my <code>package.json<\/code> too:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: jscript; title: ; notranslate\" title=\"\">\n&quot;scripts&quot;: {\n    &quot;build&quot;: &quot;npx tailwindcss-cli@latest build .\/src\/tailwind.css -o .\/dist\/tailwind.css&quot;,\n    &quot;prod&quot;: &quot;NODE_ENV=production npx tailwindcss-cli@latest build .\/src\/tailwind.css -o .\/dist\/tailwind.css&quot;\n  },\n<\/pre><\/div>\n\n\n<p>So I can now <code>npm run build<\/code> or <code>npm run prod<\/code> to get what I need.<\/p>\n\n\n\n<p>I don&#8217;t have a hot-reloading dev environment or anything, but don&#8217;t really need that for this single-page HTML thing.<\/p>\n\n\n\n<p>And yes, let me say it again, Tailwind IS overkill, and it&#8217;s technical debt, and I&#8217;m generally against build processes for simple websites, but, hey, we learned some stuff, right! That was the aim.<\/p>\n\n\n\n<p>You can see <a href=\"https:\/\/github.com\/rosswintle\/tweet-finder\/\">the code on GitHub<\/a>.<\/p>\n\n\n\n<p>And dont forget to use the search at <a href=\"https:\/\/tweet-finder.veryuseful.app\/\">tweet-finder.veryuseful.app<\/a> !<\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>How and why I made a simple interface for Twitter&#8217;s advanced search.<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 10114,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                23
            ],
            "tags": [
                286,
                5062,
                5063,
                5061,
                172
            ],
            "class_list": [
                "post-10108",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "has-post-thumbnail",
                "hentry",
                "category-techie",
                "tag-coding",
                "tag-search",
                "tag-side-projects-2",
                "tag-tailwindcss",
                "tag-twitter"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Mini Project: Tweet Finder - Twitter Advanced Search - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Mini Project: Tweet Finder - Twitter Advanced Search - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"How and why I made a simple interface for Twitter&#039;s advanced search.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-04-12T19:50:52+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-04-12T19:56:58+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1422\" \/>\n\t<meta property=\"og:image:height\" content=\"1396\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"3 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/\",\"name\":\"Mini Project: Tweet Finder - Twitter Advanced Search - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png\",\"datePublished\":\"2021-04-12T19:50:52+00:00\",\"dateModified\":\"2021-04-12T19:56:58+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#primaryimage\",\"url\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png\",\"contentUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png\",\"width\":1422,\"height\":1396,\"caption\":\"Tweet Finder screen grab\"},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Mini Project: Tweet Finder &#8211; Twitter Advanced Search\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Mini Project: Tweet Finder - Twitter Advanced Search - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Mini Project: Tweet Finder - Twitter Advanced Search - Ross Wintle",
                "og_description": "How and why I made a simple interface for Twitter's advanced search.",
                "og_url": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-04-12T19:50:52+00:00",
                "article_modified_time": "2021-04-12T19:56:58+00:00",
                "og_image": [
                    {
                        "width": 1422,
                        "height": 1396,
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png",
                        "type": "image\/png"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "3 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/",
                            "name": "Mini Project: Tweet Finder - Twitter Advanced Search - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "primaryImageOfPage": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#primaryimage"
                            },
                            "image": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#primaryimage"
                            },
                            "thumbnailUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png",
                            "datePublished": "2021-04-12T19:50:52+00:00",
                            "dateModified": "2021-04-12T19:56:58+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "ImageObject",
                            "inLanguage": "en-US",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#primaryimage",
                            "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png",
                            "contentUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-12-at-20.54.07@2x.png",
                            "width": 1422,
                            "height": 1396,
                            "caption": "Tweet Finder screen grab"
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Mini Project: Tweet Finder &#8211; Twitter Advanced Search"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10108"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=10108"
                    }
                ],
                "version-history": [
                    {
                        "count": 5,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10108\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 10113,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10108\/revisions\/10113"
                    }
                ],
                "wp:featuredmedia": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media\/10114"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=10108"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=10108"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=10108"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 10108,
        "dateGmt": "2021-04-12T19:50:52",
        "modifiedDateGmt": "2021-04-12T19:56:58",
        "slug": "tweet-finder-twitter-advanced-search",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/04\/tweet-finder-twitter-advanced-search\/",
        "title": "Mini Project: Tweet Finder &#8211; Twitter Advanced Search",
        "content": "\n<p><em>How and why I made <a href=\"https:\/\/tweet-finder.veryuseful.app\/\">a simple interface for Twitter&#8217;s advanced search<\/a>.<\/em><\/p>\n\n\n\n<p>This has been on my mind for ages.<\/p>\n\n\n\n<p>I often search for Tweets that I remember seeing. And Twitter has this advanced search that lets you search Tweets from and to specific users, on or between specific dates, mentioning specific users or hashtags, and some other things.<\/p>\n\n\n\n<p>This advanced search is hard to get to: you need to do a simple search, and then click the settings dots, and then select &#8220;Advanced search&#8221; and THEN you get a pop up with the options.<\/p>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"Twitter Advanced Search - getting to it!\" src=\"https:\/\/player.vimeo.com\/video\/536005074?dnt=1&amp;app_id=122963\" width=\"640\" height=\"373\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>So it&#8217;s hard to get to. But it&#8217;s also hard to use.<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>I have to think twice about whether or not usernames need @&#8217;s before them;<\/li><li>once you&#8217;ve done a search, it defaults to &#8220;Top&#8221; Tweets, which i rarely want;<\/li><li>the options pop-up resets itself so refining your search is tricky.<\/li><\/ul>\n\n\n\n<figure class=\"wp-block-embed is-type-video is-provider-vimeo wp-block-embed-vimeo\"><div class=\"wp-block-embed__wrapper\">\n<iframe loading=\"lazy\" title=\"Advanced Twitter Search - weird options experience\" src=\"https:\/\/player.vimeo.com\/video\/536009269?dnt=1&amp;app_id=122963\" width=\"640\" height=\"373\" frameborder=\"0\" allow=\"autoplay; fullscreen; picture-in-picture; clipboard-write\"><\/iframe>\n<\/div><\/figure>\n\n\n\n<p>So I&#8217;ve had this idea for a while that someone could probably pretty easily figure out how the parameters are sent to Twitter&#8217;s search page and create a simpler interface.<\/p>\n\n\n\n<p>And, though I&#8217;m sure someone must have done it before, that&#8217;s exactly what I did.<\/p>\n\n\n\n<p>I&#8217;ve started with the options I use most. Condensed the search query into a single field with explainer, and added &#8220;from account&#8221; and &#8220;to account&#8221;. This covers quite a lot of bases:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Find that Tweet I sent about&#8230;<\/li><li>Find that Tweet I sent to @specific_person about&#8230;<\/li><li>Find that Tweet someone sent to me about&#8230;<\/li><li>Find that Tweet the @specifc_person sent to me about&#8230;<\/li><li>Find that recent conversation I had with @specific_person<\/li><\/ul>\n\n\n\n<p>I figured out the parameters, created a form, gave it some styling and shoved it online using <a href=\"https:\/\/netlify.com\/\">Netlify<\/a> &#8211; it&#8217;s only a single HTML file and some Tailwind styles so static hosting is fine.<\/p>\n\n\n\n<p>Try it at <a href=\"https:\/\/tweet-finder.veryuseful.app\/\">https:\/\/tweet-finder.veryuseful.app\/<\/a><\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Creator notes<\/h2>\n\n\n\n<p>Creating the form was pretty simple.<\/p>\n\n\n\n<p>I had to use a bit of vanilla JavaScript to improve the experience: adding @&#8217;s to usernames where they aren&#8217;t provided so that you don&#8217;t have to think about it and compiling the form data into a query string.<\/p>\n\n\n\n<p>When it came to styling, it was total overkill, but I wanted to see how easy it was to add TailwindCSS to such a simple project.<\/p>\n\n\n\n<p>Initially I got confused by <a href=\"https:\/\/tailwindcss.com\/docs\/installation\">the documentation<\/a> which very much assumes you&#8217;re already using a framework or build tool, or otherwise have PostCSS in a toolchain somehow.<\/p>\n\n\n\n<p>I was about to give up but eventually found the &#8220;<a href=\"https:\/\/tailwindcss.com\/docs\/installation#using-tailwind-without-post-css\">Using Tailwind without PostCSS<\/a>&#8221; section. This is really not that hard to find but for some reason I ignored it the first time I read through. Maybe I thought this was about the &#8220;include vast amounts of CSS using <a href=\"https:\/\/tailwindcss.com\/docs\/installation#using-tailwind-via-cdn\">the CDN version<\/a>&#8221; approach? Not sure.<\/p>\n\n\n\n<p>Anyway, with a simple <code>npx<\/code> command (once you&#8217;ve got node and everything sorted out) you can get going.<\/p>\n\n\n\n<p>I wanted to use <a href=\"https:\/\/github.com\/tailwindlabs\/tailwindcss-forms\">the forms plugin<\/a> so I had to <a href=\"https:\/\/tailwindcss.com\/docs\/installation#customizing-your-configuration\">init myself a Tailwind config file<\/a>, create a <a href=\"https:\/\/github.com\/rosswintle\/tweet-finder\/blob\/main\/src\/tailwind.css\">boilerplate custom CSS file<\/a>, create a <code>package.json<\/code> (did the <code>npx<\/code> command do this for me?) and add <code>@tailwindcss\/forms<\/code> to it as a dependency.<\/p>\n\n\n\n<p>Suddenly I was doing a lot, and I now had custom build commands to remember, so I added these to my <code>package.json<\/code> too:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: jscript; title: ; notranslate\" title=\"\">\n&quot;scripts&quot;: {\n    &quot;build&quot;: &quot;npx tailwindcss-cli@latest build .\/src\/tailwind.css -o .\/dist\/tailwind.css&quot;,\n    &quot;prod&quot;: &quot;NODE_ENV=production npx tailwindcss-cli@latest build .\/src\/tailwind.css -o .\/dist\/tailwind.css&quot;\n  },\n<\/pre><\/div>\n\n\n<p>So I can now <code>npm run build<\/code> or <code>npm run prod<\/code> to get what I need.<\/p>\n\n\n\n<p>I don&#8217;t have a hot-reloading dev environment or anything, but don&#8217;t really need that for this single-page HTML thing.<\/p>\n\n\n\n<p>And yes, let me say it again, Tailwind IS overkill, and it&#8217;s technical debt, and I&#8217;m generally against build processes for simple websites, but, hey, we learned some stuff, right! That was the aim.<\/p>\n\n\n\n<p>You can see <a href=\"https:\/\/github.com\/rosswintle\/tweet-finder\/\">the code on GitHub<\/a>.<\/p>\n\n\n\n<p>And dont forget to use the search at <a href=\"https:\/\/tweet-finder.veryuseful.app\/\">tweet-finder.veryuseful.app<\/a> !<\/p>\n",
        "excerpt": "<p>How and why I made a simple interface for Twitter&#8217;s advanced search.<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 10114
    },
    {
        "dataAsArray": {
            "id": 10126,
            "date": "2021-04-18T10:25:23",
            "date_gmt": "2021-04-18T09:25:23",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=10126"
            },
            "modified": "2021-04-18T10:25:26",
            "modified_gmt": "2021-04-18T09:25:26",
            "slug": "we-need-a-common-visual-language-for-block-editing",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/",
            "title": {
                "rendered": "We need a common visual language for block editing"
            },
            "content": {
                "rendered": "\n<p><em>Blocks are a new paradigm. They need complex new user interfaces. And we don&#8217;t have a common visual language for them.<\/em><\/p>\n\n\n\n<p>I&#8217;m spending my Saturday morning &#8220;TV&#8221; time watching the <a href=\"https:\/\/wordpress.tv\/2021\/04\/14\/april-14-2021-fse-demo\/\">WordPress &#8220;Full Site Editing&#8221; demo<\/a>.<\/p>\n\n\n\n<p>Now&#8230; I should say some things up front.<\/p>\n\n\n\n<ol class=\"wp-block-list\"><li>I&#8217;m an old dude now. I don&#8217;t like change. I&#8217;m also a sensitive person who thinks things through deeply. I doubly don&#8217;t like change. I know this.<\/li><li>I have every respect for the people designing and building the block editor. It&#8217;s a complex piece of software with a complex interface. What they are doing is hard.<\/li><li>I&#8217;m well aware that this is unfinished work.<\/li><\/ol>\n\n\n\n<p>But &#8230; I&#8217;m watching this video, and I&#8217;m completely baffled about what is going on. There is lots of talk of refining the UI in the video, of stuff that needs to be done before this is ready. But I&#8217;m so confused. And I&#8217;m an expert at this stuff who is confident with IT and computers and things.<\/p>\n\n\n\n<p>So what is wrong?<\/p>\n\n\n\n<p>I&#8217;m looking at the UI of this thing. The myriad icons.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png\" alt=\"\" class=\"wp-image-10127\" width=\"454\" height=\"196\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png 712w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons-300x129.png 300w\" sizes=\"(max-width: 454px) 100vw, 454px\" \/><\/figure>\n\n\n\n<p>The primary, secondary and tertiary tools for blocks that appear scattered across the inline interface, the pop-up toolbar (which I have hated since day one), and the sidebar.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"575\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-1024x575.png\" alt=\"\" class=\"wp-image-10128\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-1024x575.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-300x169.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-768x432.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-1536x863.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-2048x1151.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>And I want to be able to understand and use these tools.<\/p>\n\n\n\n<p>So I&#8217;m thinking: why is this so hard. The classic editor was so much easier.<\/p>\n\n\n\n<p>And the classic editor was partly easier because it was simpler. But it was also easier because it was familiar. I could say to people &#8220;It&#8217;s just like Microsoft Word&#8221; and they understood. Because the tools and icons were familiar.<\/p>\n\n\n\n<p>What we dont have right now is a common visual language for all this block editing interface. And I think that WordPress is forging its own path rather than replicating something that already exists.<\/p>\n\n\n\n<p>Perhaps WordPress&#8217;s editor will become the new &#8220;standard&#8221; block editor interface. Perhaps, in future, we will say to people &#8220;It&#8217;s just like WordPress&#8221;.<\/p>\n\n\n\n<p>But right now we are making new things that haven&#8217;t existed before. They are WAY more complex than what we had before. And we lack a known visual language for what we are making. And it&#8217;s VERY confusing.<\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>Blocks are a new paradigm. They need complex new user interfaces. And we don&#8217;t have a common visual language for them.<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 10127,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                23,
                24,
                639
            ],
            "tags": [
                540,
                677,
                462
            ],
            "class_list": [
                "post-10126",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "has-post-thumbnail",
                "hentry",
                "category-techie",
                "category-thoughts",
                "category-wordpress",
                "tag-design",
                "tag-gutenberg",
                "tag-wordpress"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>We need a common visual language for block editing - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"We need a common visual language for block editing - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"Blocks are a new paradigm. They need complex new user interfaces. And we don&#039;t have a common visual language for them.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-04-18T09:25:23+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-04-18T09:25:26+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png\" \/>\n\t<meta property=\"og:image:width\" content=\"712\" \/>\n\t<meta property=\"og:image:height\" content=\"307\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"3 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/\",\"name\":\"We need a common visual language for block editing - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png\",\"datePublished\":\"2021-04-18T09:25:23+00:00\",\"dateModified\":\"2021-04-18T09:25:26+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#primaryimage\",\"url\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png\",\"contentUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png\",\"width\":712,\"height\":307,\"caption\":\"Lots of icons\"},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"We need a common visual language for block editing\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "We need a common visual language for block editing - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "We need a common visual language for block editing - Ross Wintle",
                "og_description": "Blocks are a new paradigm. They need complex new user interfaces. And we don't have a common visual language for them.",
                "og_url": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-04-18T09:25:23+00:00",
                "article_modified_time": "2021-04-18T09:25:26+00:00",
                "og_image": [
                    {
                        "width": 712,
                        "height": 307,
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png",
                        "type": "image\/png"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "3 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/",
                            "name": "We need a common visual language for block editing - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "primaryImageOfPage": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#primaryimage"
                            },
                            "image": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#primaryimage"
                            },
                            "thumbnailUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png",
                            "datePublished": "2021-04-18T09:25:23+00:00",
                            "dateModified": "2021-04-18T09:25:26+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "ImageObject",
                            "inLanguage": "en-US",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#primaryimage",
                            "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png",
                            "contentUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png",
                            "width": 712,
                            "height": 307,
                            "caption": "Lots of icons"
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "We need a common visual language for block editing"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10126"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=10126"
                    }
                ],
                "version-history": [
                    {
                        "count": 1,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10126\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 10129,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10126\/revisions\/10129"
                    }
                ],
                "wp:featuredmedia": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media\/10127"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=10126"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=10126"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=10126"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 10126,
        "dateGmt": "2021-04-18T09:25:23",
        "modifiedDateGmt": "2021-04-18T09:25:26",
        "slug": "we-need-a-common-visual-language-for-block-editing",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/04\/we-need-a-common-visual-language-for-block-editing\/",
        "title": "We need a common visual language for block editing",
        "content": "\n<p><em>Blocks are a new paradigm. They need complex new user interfaces. And we don&#8217;t have a common visual language for them.<\/em><\/p>\n\n\n\n<p>I&#8217;m spending my Saturday morning &#8220;TV&#8221; time watching the <a href=\"https:\/\/wordpress.tv\/2021\/04\/14\/april-14-2021-fse-demo\/\">WordPress &#8220;Full Site Editing&#8221; demo<\/a>.<\/p>\n\n\n\n<p>Now&#8230; I should say some things up front.<\/p>\n\n\n\n<ol class=\"wp-block-list\"><li>I&#8217;m an old dude now. I don&#8217;t like change. I&#8217;m also a sensitive person who thinks things through deeply. I doubly don&#8217;t like change. I know this.<\/li><li>I have every respect for the people designing and building the block editor. It&#8217;s a complex piece of software with a complex interface. What they are doing is hard.<\/li><li>I&#8217;m well aware that this is unfinished work.<\/li><\/ol>\n\n\n\n<p>But &#8230; I&#8217;m watching this video, and I&#8217;m completely baffled about what is going on. There is lots of talk of refining the UI in the video, of stuff that needs to be done before this is ready. But I&#8217;m so confused. And I&#8217;m an expert at this stuff who is confident with IT and computers and things.<\/p>\n\n\n\n<p>So what is wrong?<\/p>\n\n\n\n<p>I&#8217;m looking at the UI of this thing. The myriad icons.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png\" alt=\"\" class=\"wp-image-10127\" width=\"454\" height=\"196\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons.png 712w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/iconsiconsicons-300x129.png 300w\" sizes=\"(max-width: 454px) 100vw, 454px\" \/><\/figure>\n\n\n\n<p>The primary, secondary and tertiary tools for blocks that appear scattered across the inline interface, the pop-up toolbar (which I have hated since day one), and the sidebar.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"575\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-1024x575.png\" alt=\"\" class=\"wp-image-10128\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-1024x575.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-300x169.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-768x432.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-1536x863.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/04\/CleanShot-2021-04-18-at-10.17.40@2x-2048x1151.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>And I want to be able to understand and use these tools.<\/p>\n\n\n\n<p>So I&#8217;m thinking: why is this so hard. The classic editor was so much easier.<\/p>\n\n\n\n<p>And the classic editor was partly easier because it was simpler. But it was also easier because it was familiar. I could say to people &#8220;It&#8217;s just like Microsoft Word&#8221; and they understood. Because the tools and icons were familiar.<\/p>\n\n\n\n<p>What we dont have right now is a common visual language for all this block editing interface. And I think that WordPress is forging its own path rather than replicating something that already exists.<\/p>\n\n\n\n<p>Perhaps WordPress&#8217;s editor will become the new &#8220;standard&#8221; block editor interface. Perhaps, in future, we will say to people &#8220;It&#8217;s just like WordPress&#8221;.<\/p>\n\n\n\n<p>But right now we are making new things that haven&#8217;t existed before. They are WAY more complex than what we had before. And we lack a known visual language for what we are making. And it&#8217;s VERY confusing.<\/p>\n",
        "excerpt": "<p>Blocks are a new paradigm. They need complex new user interfaces. And we don&#8217;t have a common visual language for them.<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 10127
    },
    {
        "dataAsArray": {
            "id": 10186,
            "date": "2021-05-02T10:00:02",
            "date_gmt": "2021-05-02T09:00:02",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=10186"
            },
            "modified": "2021-05-02T10:58:21",
            "modified_gmt": "2021-05-02T09:58:21",
            "slug": "sunday-morning-links",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/",
            "title": {
                "rendered": "Sunday morning links"
            },
            "content": {
                "rendered": "\n<p>I&#8217;ve had a big stack of tabs open on both my mobile and laptop recently. I took time this morning to review them and add some of them to my pinboard. Rather than Tweet them all out, here&#8217;s a list of new stuff on my radar!<\/p>\n\n\n\n<div class=\"wp-block-sync-pinboard-pins\"><ul><li><a href=\"https:\/\/esbuild.github.io\/\">esbuild &#8211; An extremely fast JavaScript bundler<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/www.ecograder.com\/\">Ecograder<\/a><span> &#8211; <\/span><span>Tool for analysing the ecoligical\/carbon impact of websites<\/span><\/li><li><a href=\"https:\/\/navicat.com\/en\/\">Navicat GUI | DB Admin Tool for MySQL, PostgreSQL, MongoDB, MariaDB, SQL Server, Oracle &amp; SQLite client<\/a><span> &#8211; <\/span><span>Complex database query tool<\/span><\/li><li><a href=\"https:\/\/laravel-news.com\/laravel-jetstream-banners\">Quick Tip: Laravel Jetstream Banners | Laravel News<\/a><span> &#8211; <\/span><span>Tip on using notification\/alert\/infromational banners in Laravel Jetstream<\/span><\/li><li><a href=\"https:\/\/howmanyplants.com\/\">How Many Plants &#8211; Indoor and House Plant Resource<\/a><span> &#8211; <\/span><span>Beautiful and comprehensive guide to houseplants<\/span><\/li><li><a href=\"https:\/\/github.com\/lukeraymonddowning\/honey\">lukeraymonddowning\/honey: A spam prevention package for Laravel, providing honeypot techniques, ip blocking and beautifully simple Recaptcha integration. Stop spam. Use Honey.<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/mailgo.dev\/\">mailgo<\/a><span> &#8211; <\/span><span>Cool JS library that&#8217;s and alternative to mailto and tel links for email addresses and telephone numbers<\/span><\/li><li><a href=\"https:\/\/jarrettlerner.com\/\">Jarrett Lerner<\/a><span> &#8211; <\/span><span>Amazing creative comic art drawing resources from this comic artist<\/span><\/li><li><a href=\"https:\/\/there.pm\/\">There\u2122 &#8211; Work across timezones efficiently &amp; remotely<\/a><span> &#8211; <\/span><span>Simple app to see who is in which timezone and what time it is there.\r\n<\/span><\/li><li><a href=\"https:\/\/aldrumo.com\/\">Aldrumo<\/a><span> &#8211; <\/span><span>TALL Stack CMS<\/span><\/li><li><a href=\"https:\/\/pitch.com\/\">Pitch \u4e00 Collaborative presentation software for modern teams.<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/www.twilio.com\/blog\/zsh-tricks-to-blow-your-mind\">Zsh Tricks to Blow your Mind<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/iconic.app\/\">Iconic \u2014 Free \u201cdo wtf you want with\u201d pixel-perfect icons<\/a><span> &#8211; <\/span><span>Super completely free SVG icons<\/span><\/li><li><a href=\"https:\/\/www.jemjabella.co.uk\/2021\/6-things-i-do-to-make-gutenberg-development-easier\/?mc_cid=1d27b7b3e4&amp;mc_eid=1be3fbdffd\">6 Things I Do to Make Gutenberg Development Easier &#8211; Jem \u2013 UK blogger<\/a><span> &#8211; <\/span><span>Good list of tips for developing with Gutenberg\/Block Editor<\/span><\/li><li><a href=\"https:\/\/gist.github.com\/danielpost\/4f0545e1d7a71130d8c90e5844c2312d\">Setting up a new local WordPress install<\/a><span> &#8211; <\/span><span>Example bash script for setting up a WordPress install<\/span><\/li><li><a href=\"https:\/\/martinheinz.dev\/blog\/44\">Martin Heinz | Deep Dive into Docker Internals\u200a-\u200aUnion Filesystem<\/a><span> &#8211; <\/span><span>Explainer of Docker&#8217;s filesystems<\/span><\/li><\/ul><\/div>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>A bunch of links I&#8217;ve added to my pinboard including tech, WordPress, Laravel, family, and creativity.<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                10
            ],
            "tags": [],
            "class_list": [
                "post-10186",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-general"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Sunday morning links - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Sunday morning links - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"A bunch of links I&#039;ve added to my pinboard including tech, WordPress, Laravel, family, and creativity.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-05-02T09:00:02+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-05-02T09:58:21+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"600\" \/>\n\t<meta property=\"og:image:height\" content=\"399\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/\",\"name\":\"Sunday morning links - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"datePublished\":\"2021-05-02T09:00:02+00:00\",\"dateModified\":\"2021-05-02T09:58:21+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Sunday morning links\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Sunday morning links - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Sunday morning links - Ross Wintle",
                "og_description": "A bunch of links I've added to my pinboard including tech, WordPress, Laravel, family, and creativity.",
                "og_url": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-05-02T09:00:02+00:00",
                "article_modified_time": "2021-05-02T09:58:21+00:00",
                "og_image": [
                    {
                        "width": 600,
                        "height": 399,
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg",
                        "type": "image\/jpeg"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "2 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/",
                            "name": "Sunday morning links - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "datePublished": "2021-05-02T09:00:02+00:00",
                            "dateModified": "2021-05-02T09:58:21+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Sunday morning links"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10186"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=10186"
                    }
                ],
                "version-history": [
                    {
                        "count": 3,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10186\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 10190,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10186\/revisions\/10190"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=10186"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=10186"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=10186"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 10186,
        "dateGmt": "2021-05-02T09:00:02",
        "modifiedDateGmt": "2021-05-02T09:58:21",
        "slug": "sunday-morning-links",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/05\/sunday-morning-links\/",
        "title": "Sunday morning links",
        "content": "\n<p>I&#8217;ve had a big stack of tabs open on both my mobile and laptop recently. I took time this morning to review them and add some of them to my pinboard. Rather than Tweet them all out, here&#8217;s a list of new stuff on my radar!<\/p>\n\n\n\n<div class=\"wp-block-sync-pinboard-pins\"><ul><li><a href=\"https:\/\/esbuild.github.io\/\">esbuild &#8211; An extremely fast JavaScript bundler<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/www.ecograder.com\/\">Ecograder<\/a><span> &#8211; <\/span><span>Tool for analysing the ecoligical\/carbon impact of websites<\/span><\/li><li><a href=\"https:\/\/navicat.com\/en\/\">Navicat GUI | DB Admin Tool for MySQL, PostgreSQL, MongoDB, MariaDB, SQL Server, Oracle &amp; SQLite client<\/a><span> &#8211; <\/span><span>Complex database query tool<\/span><\/li><li><a href=\"https:\/\/laravel-news.com\/laravel-jetstream-banners\">Quick Tip: Laravel Jetstream Banners | Laravel News<\/a><span> &#8211; <\/span><span>Tip on using notification\/alert\/infromational banners in Laravel Jetstream<\/span><\/li><li><a href=\"https:\/\/howmanyplants.com\/\">How Many Plants &#8211; Indoor and House Plant Resource<\/a><span> &#8211; <\/span><span>Beautiful and comprehensive guide to houseplants<\/span><\/li><li><a href=\"https:\/\/github.com\/lukeraymonddowning\/honey\">lukeraymonddowning\/honey: A spam prevention package for Laravel, providing honeypot techniques, ip blocking and beautifully simple Recaptcha integration. Stop spam. Use Honey.<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/mailgo.dev\/\">mailgo<\/a><span> &#8211; <\/span><span>Cool JS library that&#8217;s and alternative to mailto and tel links for email addresses and telephone numbers<\/span><\/li><li><a href=\"https:\/\/jarrettlerner.com\/\">Jarrett Lerner<\/a><span> &#8211; <\/span><span>Amazing creative comic art drawing resources from this comic artist<\/span><\/li><li><a href=\"https:\/\/there.pm\/\">There\u2122 &#8211; Work across timezones efficiently &amp; remotely<\/a><span> &#8211; <\/span><span>Simple app to see who is in which timezone and what time it is there.\r\n<\/span><\/li><li><a href=\"https:\/\/aldrumo.com\/\">Aldrumo<\/a><span> &#8211; <\/span><span>TALL Stack CMS<\/span><\/li><li><a href=\"https:\/\/pitch.com\/\">Pitch \u4e00 Collaborative presentation software for modern teams.<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/www.twilio.com\/blog\/zsh-tricks-to-blow-your-mind\">Zsh Tricks to Blow your Mind<\/a><span> &#8211; <\/span><span><\/span><\/li><li><a href=\"https:\/\/iconic.app\/\">Iconic \u2014 Free \u201cdo wtf you want with\u201d pixel-perfect icons<\/a><span> &#8211; <\/span><span>Super completely free SVG icons<\/span><\/li><li><a href=\"https:\/\/www.jemjabella.co.uk\/2021\/6-things-i-do-to-make-gutenberg-development-easier\/?mc_cid=1d27b7b3e4&amp;mc_eid=1be3fbdffd\">6 Things I Do to Make Gutenberg Development Easier &#8211; Jem \u2013 UK blogger<\/a><span> &#8211; <\/span><span>Good list of tips for developing with Gutenberg\/Block Editor<\/span><\/li><li><a href=\"https:\/\/gist.github.com\/danielpost\/4f0545e1d7a71130d8c90e5844c2312d\">Setting up a new local WordPress install<\/a><span> &#8211; <\/span><span>Example bash script for setting up a WordPress install<\/span><\/li><li><a href=\"https:\/\/martinheinz.dev\/blog\/44\">Martin Heinz | Deep Dive into Docker Internals\u200a-\u200aUnion Filesystem<\/a><span> &#8211; <\/span><span>Explainer of Docker&#8217;s filesystems<\/span><\/li><\/ul><\/div>\n",
        "excerpt": "<p>A bunch of links I&#8217;ve added to my pinboard including tech, WordPress, Laravel, family, and creativity.<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    },
    {
        "dataAsArray": {
            "id": 10236,
            "date": "2021-05-27T10:16:56",
            "date_gmt": "2021-05-27T09:16:56",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=10236"
            },
            "modified": "2021-06-04T07:21:21",
            "modified_gmt": "2021-06-04T06:21:21",
            "slug": "laravel-hasonethrough-belongstothrough",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/",
            "title": {
                "rendered": "Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion"
            },
            "content": {
                "rendered": "\n<p>It&#8217;s kinda hard to believe that in all my years of writing Laravel I&#8217;ve not come across this before.<\/p>\n\n\n\n<p>But today I needed &#8220;belongsToThrough&#8221; in an Eloquent Model and I got myself so confused! Turns out it doesn&#8217;t exist, and the docs are (IMO) confusing and others seem to have even got it backwards.<\/p>\n\n\n\n<p>I&#8217;m assuming some knowledge here to keep things brief. You would know what an ORM is and how relationships work.<\/p>\n\n\n\n<p>Also &#8211; note for pedants &#8211; I&#8217;m using American &#8220;license&#8221; throughout examples for naming consistency, even for the noun which would otherwise be &#8220;licence&#8221;. I know. And I&#8217;m sorry.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">My use case<\/h2>\n\n\n\n<p>I&#8217;ve been working on my licensing system for software products I&#8217;m developing. It&#8217;s pretty simple. And it has a data model with Customers, Orders, and Licenses.<\/p>\n\n\n\n<p>It looks like this:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nLicense        Order             Customer\n--------       -----------       --------\norder_id  --&gt;  customer_id  --&gt;  email\n<\/pre><\/div>\n\n\n<p>In ORM terminology:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>A License <code>belongsTo<\/code> an Order<\/li><li>An Order <code>hasMany<\/code> Licenses<\/li><li>An Order <code>belongsTo<\/code> a Customer<\/li><li>A Customer <code>hasMany<\/code> Orders<\/li><\/ul>\n\n\n\n<p>This is all good. But, for reasons I won&#8217;t go into, I wanted to define a relationship between License and Customer through the Orders table. So I could do:<\/p>\n\n\n\n<p><code>$license-&gt;customer<\/code><\/p>\n\n\n\n<p>I know that I could simply do:<\/p>\n\n\n\n<p><code>$license-&gt;order-&gt;customer<\/code><\/p>\n\n\n\n<p>but please, just let me do my thing and assume I have reasons! Thanks.<\/p>\n\n\n\n<p>Laravel is a superb framework and often just does what you need. It&#8217;s conventions make sense and you can often guess the name of the thing you need.<\/p>\n\n\n\n<p>I was vaguely aware of &#8220;hasOneThrough&#8221; (those of you who are ahead of me are already rolling your eyes). And so I attempted to implement it:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\npublic function customer()\n{\n  return $this-&gt;hasOneThrough(Customer::class, Order::class);\n}\n<\/pre><\/div>\n\n\n<p>BUT&#8230;this gave me an error saying that the Order table didn&#8217;t have a license_id.<\/p>\n\n\n\n<p>My immediate reaction: WHAT? THAT&#8217;S BACKWARDS.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">The Laravel Docs Example<\/h2>\n\n\n\n<p>Time to consult <a href=\"https:\/\/laravel.com\/docs\/eloquent-relationships#has-one-through\">the Laravel docs<\/a> where the example given is:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nmechanics\n    id - integer\n    name - string\n\ncars\n    id - integer\n    model - string\n    mechanic_id - integer\n\nowners\n    id - integer\n    name - string\n    car_id - integer\n<\/pre><\/div>\n\n\n<p>Now, first of all, this is (in my opinion &#8211; sorry documenters) a poor example data model. It says that an owner can only have one car, but a car can have multiple owners. Which is&#8230;err&#8230;backwards? And a car has one mechanic. And I don&#8217;t understand what real-world use-case this data model is modelling. But let&#8217;s go with it.<\/p>\n\n\n\n<p>In this model:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>A Mechanic <code>hasMany<\/code> Cars<\/li><li>A Car <code>belongsTo<\/code> a Mechanic<\/li><li>A Car <code>hasMany<\/code> Owners<\/li><li>An Owner <code>belongsTo<\/code> a Car (?!)<\/li><\/ul>\n\n\n\n<p>And in the example we want to get the Owner for a given Mechanic (?! &#8211; let&#8217;s go with it!). So you can do:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\npublic function carOwner()\n{\n  return $this-&gt;hasOneThrough(Owner::class, Car::class);\n}\n<\/pre><\/div>\n\n\n<p>I don&#8217;t know about you but I&#8217;m so confused. (And no, I&#8217;m not going to PR the docs. I&#8217;ve tried this before. It&#8217;s no fun.)<\/p>\n\n\n\n<p>In this model a Mechanic hasMany Cars and a Car hasMany Owners. So a Mechanic has many, many Owners! And we&#8217;re asking for one of them. And what&#8217;s even more confusing is that the docs don&#8217;t specify which one we will get? The most-recently created? The most-recently updated? A random owner? It&#8217;s just weird.<\/p>\n\n\n\n<p>The <a href=\"https:\/\/laravel.com\/docs\/8.x\/eloquent-relationships#has-one-of-many\">Laravel docs<\/a> are explicit about this for <code>hasOne<\/code> saying:<\/p>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>Sometimes a model may have many related models, yet you want to easily retrieve the &#8220;latest&#8221; or &#8220;oldest&#8221; related model of the relationship.<\/p><\/blockquote>\n\n\n\n<p>and it defines <code>latestOfMany()<\/code>, <code>oldestOfMany()<\/code> and a generic <code>ofMany()<\/code> modifiers.<\/p>\n\n\n\n<p>I can see that you might want to use this. For example, you might have <code>Category &lt;- Post &lt;- Comment<\/code> and you might want to get the most recent Comment for a Category? Maybe? This is the kind of thing that <code>hasOneThrough<\/code> seems to do.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Has and BelongsTo naming&#8230;<\/h2>\n\n\n\n<p>To get why this is all like it is, you have to properly understand the Has and BelongsTo conventions in ORMs.<\/p>\n\n\n\n<p>Has\/have is always about having lots of things. You can haveMany. And you can haveOne. But haveOne is actually really haveOneOfMany.<\/p>\n\n\n\n<p>Belongs is sometimes about having one (<code>belongsTo<\/code>) and, confusingly, sometimes about having many (which is called <code>belongsToMany<\/code>). But let&#8217;s just ignore <code>belongToMany<\/code> for now. Belongs is about being related to one of another thing. It&#8217;s the child -&gt; parent relationship.<\/p>\n\n\n\n<p>But this is really confusing. Deal with it.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Enter stage left: belongsToThrough !<\/h2>\n\n\n\n<p>Finally, with the tenacious web-searching that only a persistent nerd like me has, I found a &#8220;<a href=\"https:\/\/github.com\/staudenmeir\/belongs-to-through\">belongsToThrough<\/a>&#8221; package for Eloquent. And I realised that I had had it wrong all along.<\/p>\n\n\n\n<p>The existence of this package with the relationship named correctly made me realise that I&#8217;d misunderstood <code>hasOneThrough<\/code> and the whole has\/belongs convention. THIS was what I needed.<\/p>\n\n\n\n<p>My only remaining questions:<\/p>\n\n\n\n<p>1. Is this the best way to do this? Does this not exist for a reason in Laravel core?<\/p>\n\n\n\n<p>and<\/p>\n\n\n\n<p>2. <a href=\"https:\/\/github.com\/staudenmeir\/belongs-to-through\/issues\/50\">Why DOESN&#8217;T this exist in Laravel&#8217;s core?<\/a><\/p>\n\n\n\n<p>And it seems that this doesn&#8217;t exist in Laravel&#8217;s core because:<\/p>\n\n\n\n<p>a) There aren&#8217;t good use cases for it (apparently, even though OrderItem -&gt; Order -&gt; Customer seems like a really common use case)<\/p>\n\n\n\n<p>b) There are other ways of achieving it, such as with an accessor, or just by chaining the relationships (e.g. <code>$license-&gt;order-&gt;customer<\/code>)<\/p>\n\n\n\n<p>It seems that the potential benefits of being able to eager load, or use PHP Reflection on this relationship just aren&#8217;t there.<\/p>\n\n\n\n<p><\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>How I found out that I wanted belongsToThrough, not hasOneThrough in Laravel Eloquent, and why it doesn&#8217;t exist.<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                642,
                23
            ],
            "tags": [
                5083,
                5084
            ],
            "class_list": [
                "post-10236",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-laravel",
                "category-techie",
                "tag-eloquent",
                "tag-relationships"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"How I found out that I wanted belongsToThrough, not hasOneThrough in Laravel Eloquent, and why it doesn&#039;t exist.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-05-27T09:16:56+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-06-04T06:21:21+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"600\" \/>\n\t<meta property=\"og:image:height\" content=\"399\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"4 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/\",\"name\":\"Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"datePublished\":\"2021-05-27T09:16:56+00:00\",\"dateModified\":\"2021-06-04T06:21:21+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion - Ross Wintle",
                "og_description": "How I found out that I wanted belongsToThrough, not hasOneThrough in Laravel Eloquent, and why it doesn't exist.",
                "og_url": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-05-27T09:16:56+00:00",
                "article_modified_time": "2021-06-04T06:21:21+00:00",
                "og_image": [
                    {
                        "width": 600,
                        "height": 399,
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2012\/06\/DSC_0005-small.jpg",
                        "type": "image\/jpeg"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "4 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/",
                            "name": "Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "datePublished": "2021-05-27T09:16:56+00:00",
                            "dateModified": "2021-06-04T06:21:21+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10236"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=10236"
                    }
                ],
                "version-history": [
                    {
                        "count": 5,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10236\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 10265,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10236\/revisions\/10265"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=10236"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=10236"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=10236"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 10236,
        "dateGmt": "2021-05-27T09:16:56",
        "modifiedDateGmt": "2021-06-04T06:21:21",
        "slug": "laravel-hasonethrough-belongstothrough",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/05\/laravel-hasonethrough-belongstothrough\/",
        "title": "Tech Notes: Laravel hasOneThrough \/ belongsToThrough confusion",
        "content": "\n<p>It&#8217;s kinda hard to believe that in all my years of writing Laravel I&#8217;ve not come across this before.<\/p>\n\n\n\n<p>But today I needed &#8220;belongsToThrough&#8221; in an Eloquent Model and I got myself so confused! Turns out it doesn&#8217;t exist, and the docs are (IMO) confusing and others seem to have even got it backwards.<\/p>\n\n\n\n<p>I&#8217;m assuming some knowledge here to keep things brief. You would know what an ORM is and how relationships work.<\/p>\n\n\n\n<p>Also &#8211; note for pedants &#8211; I&#8217;m using American &#8220;license&#8221; throughout examples for naming consistency, even for the noun which would otherwise be &#8220;licence&#8221;. I know. And I&#8217;m sorry.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">My use case<\/h2>\n\n\n\n<p>I&#8217;ve been working on my licensing system for software products I&#8217;m developing. It&#8217;s pretty simple. And it has a data model with Customers, Orders, and Licenses.<\/p>\n\n\n\n<p>It looks like this:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nLicense        Order             Customer\n--------       -----------       --------\norder_id  --&gt;  customer_id  --&gt;  email\n<\/pre><\/div>\n\n\n<p>In ORM terminology:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>A License <code>belongsTo<\/code> an Order<\/li><li>An Order <code>hasMany<\/code> Licenses<\/li><li>An Order <code>belongsTo<\/code> a Customer<\/li><li>A Customer <code>hasMany<\/code> Orders<\/li><\/ul>\n\n\n\n<p>This is all good. But, for reasons I won&#8217;t go into, I wanted to define a relationship between License and Customer through the Orders table. So I could do:<\/p>\n\n\n\n<p><code>$license-&gt;customer<\/code><\/p>\n\n\n\n<p>I know that I could simply do:<\/p>\n\n\n\n<p><code>$license-&gt;order-&gt;customer<\/code><\/p>\n\n\n\n<p>but please, just let me do my thing and assume I have reasons! Thanks.<\/p>\n\n\n\n<p>Laravel is a superb framework and often just does what you need. It&#8217;s conventions make sense and you can often guess the name of the thing you need.<\/p>\n\n\n\n<p>I was vaguely aware of &#8220;hasOneThrough&#8221; (those of you who are ahead of me are already rolling your eyes). And so I attempted to implement it:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\npublic function customer()\n{\n  return $this-&gt;hasOneThrough(Customer::class, Order::class);\n}\n<\/pre><\/div>\n\n\n<p>BUT&#8230;this gave me an error saying that the Order table didn&#8217;t have a license_id.<\/p>\n\n\n\n<p>My immediate reaction: WHAT? THAT&#8217;S BACKWARDS.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">The Laravel Docs Example<\/h2>\n\n\n\n<p>Time to consult <a href=\"https:\/\/laravel.com\/docs\/eloquent-relationships#has-one-through\">the Laravel docs<\/a> where the example given is:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\nmechanics\n    id - integer\n    name - string\n\ncars\n    id - integer\n    model - string\n    mechanic_id - integer\n\nowners\n    id - integer\n    name - string\n    car_id - integer\n<\/pre><\/div>\n\n\n<p>Now, first of all, this is (in my opinion &#8211; sorry documenters) a poor example data model. It says that an owner can only have one car, but a car can have multiple owners. Which is&#8230;err&#8230;backwards? And a car has one mechanic. And I don&#8217;t understand what real-world use-case this data model is modelling. But let&#8217;s go with it.<\/p>\n\n\n\n<p>In this model:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>A Mechanic <code>hasMany<\/code> Cars<\/li><li>A Car <code>belongsTo<\/code> a Mechanic<\/li><li>A Car <code>hasMany<\/code> Owners<\/li><li>An Owner <code>belongsTo<\/code> a Car (?!)<\/li><\/ul>\n\n\n\n<p>And in the example we want to get the Owner for a given Mechanic (?! &#8211; let&#8217;s go with it!). So you can do:<\/p>\n\n\n<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: plain; title: ; notranslate\" title=\"\">\npublic function carOwner()\n{\n  return $this-&gt;hasOneThrough(Owner::class, Car::class);\n}\n<\/pre><\/div>\n\n\n<p>I don&#8217;t know about you but I&#8217;m so confused. (And no, I&#8217;m not going to PR the docs. I&#8217;ve tried this before. It&#8217;s no fun.)<\/p>\n\n\n\n<p>In this model a Mechanic hasMany Cars and a Car hasMany Owners. So a Mechanic has many, many Owners! And we&#8217;re asking for one of them. And what&#8217;s even more confusing is that the docs don&#8217;t specify which one we will get? The most-recently created? The most-recently updated? A random owner? It&#8217;s just weird.<\/p>\n\n\n\n<p>The <a href=\"https:\/\/laravel.com\/docs\/8.x\/eloquent-relationships#has-one-of-many\">Laravel docs<\/a> are explicit about this for <code>hasOne<\/code> saying:<\/p>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\"><p>Sometimes a model may have many related models, yet you want to easily retrieve the &#8220;latest&#8221; or &#8220;oldest&#8221; related model of the relationship.<\/p><\/blockquote>\n\n\n\n<p>and it defines <code>latestOfMany()<\/code>, <code>oldestOfMany()<\/code> and a generic <code>ofMany()<\/code> modifiers.<\/p>\n\n\n\n<p>I can see that you might want to use this. For example, you might have <code>Category &lt;- Post &lt;- Comment<\/code> and you might want to get the most recent Comment for a Category? Maybe? This is the kind of thing that <code>hasOneThrough<\/code> seems to do.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Has and BelongsTo naming&#8230;<\/h2>\n\n\n\n<p>To get why this is all like it is, you have to properly understand the Has and BelongsTo conventions in ORMs.<\/p>\n\n\n\n<p>Has\/have is always about having lots of things. You can haveMany. And you can haveOne. But haveOne is actually really haveOneOfMany.<\/p>\n\n\n\n<p>Belongs is sometimes about having one (<code>belongsTo<\/code>) and, confusingly, sometimes about having many (which is called <code>belongsToMany<\/code>). But let&#8217;s just ignore <code>belongToMany<\/code> for now. Belongs is about being related to one of another thing. It&#8217;s the child -&gt; parent relationship.<\/p>\n\n\n\n<p>But this is really confusing. Deal with it.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Enter stage left: belongsToThrough !<\/h2>\n\n\n\n<p>Finally, with the tenacious web-searching that only a persistent nerd like me has, I found a &#8220;<a href=\"https:\/\/github.com\/staudenmeir\/belongs-to-through\">belongsToThrough<\/a>&#8221; package for Eloquent. And I realised that I had had it wrong all along.<\/p>\n\n\n\n<p>The existence of this package with the relationship named correctly made me realise that I&#8217;d misunderstood <code>hasOneThrough<\/code> and the whole has\/belongs convention. THIS was what I needed.<\/p>\n\n\n\n<p>My only remaining questions:<\/p>\n\n\n\n<p>1. Is this the best way to do this? Does this not exist for a reason in Laravel core?<\/p>\n\n\n\n<p>and<\/p>\n\n\n\n<p>2. <a href=\"https:\/\/github.com\/staudenmeir\/belongs-to-through\/issues\/50\">Why DOESN&#8217;T this exist in Laravel&#8217;s core?<\/a><\/p>\n\n\n\n<p>And it seems that this doesn&#8217;t exist in Laravel&#8217;s core because:<\/p>\n\n\n\n<p>a) There aren&#8217;t good use cases for it (apparently, even though OrderItem -&gt; Order -&gt; Customer seems like a really common use case)<\/p>\n\n\n\n<p>b) There are other ways of achieving it, such as with an accessor, or just by chaining the relationships (e.g. <code>$license-&gt;order-&gt;customer<\/code>)<\/p>\n\n\n\n<p>It seems that the potential benefits of being able to eager load, or use PHP Reflection on this relationship just aren&#8217;t there.<\/p>\n\n\n\n<p><\/p>\n",
        "excerpt": "<p>How I found out that I wanted belongsToThrough, not hasOneThrough in Laravel Eloquent, and why it doesn&#8217;t exist.<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    },
    {
        "dataAsArray": {
            "id": 10247,
            "date": "2021-05-31T10:08:07",
            "date_gmt": "2021-05-31T09:08:07",
            "guid": {
                "rendered": "https:\/\/rosswintle.uk\/?p=10247"
            },
            "modified": "2021-05-31T10:21:19",
            "modified_gmt": "2021-05-31T09:21:19",
            "slug": "browser-extensions-self-hosted-updates",
            "status": "publish",
            "type": "post",
            "link": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/",
            "title": {
                "rendered": "Browser Extensions: Self-hosted updates"
            },
            "content": {
                "rendered": "\n<p>I&#8217;m currently developing a paid-for browser extension that will run on both Firefox and Chrome\/Chromium browsers. I&#8217;ll write more about this (very-involved!) process soon.<\/p>\n\n\n\n<p>But in the last couple of days, I just made the decision to self-host updates for the Firefox version rather than host it on addons.mozilla.org. This post details the steps to do that.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Why?<\/h2>\n\n\n\n<p>So, I have had a version of Turbo Admin approved for addons.mozilla.org (AMO for short), but they only give two options there:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Listed &#8211; AMO host the extension and all updates. It&#8217;s publicly listed. Anyone can find and install it from AMO.<\/li><li>Invisible &#8211; AMO verify and sign the extension, but it&#8217;s not publicly listed, and you self-host the extension and all updates to it.<\/li><\/ul>\n\n\n\n<p>I really want a third option:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Unlisted &#8211; AMO host the extension and all updates but it&#8217;s NOT publicly listed, people have to have the link to install it.<\/li><\/ul>\n\n\n\n<p>This is an option that the Chrome Web Store gives you.<\/p>\n\n\n\n<p>I guess there are some advantages to being on AMO. It could be a marketing and discovery channel. But I feel like finding my extension and immediately seeing that you have to pay for it could be frustrating for users. The AMO listing can show that &#8220;Some features may require payment&#8221; but I&#8217;d just rather people took a different journey to purchase.<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png\" alt=\"Turbo Admin - AMO - Some features may require payment\" class=\"wp-image-10248\" width=\"769\" height=\"222\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-300x87.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-768x222.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1536x444.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x.png 1756w\" sizes=\"(max-width: 769px) 100vw, 769px\" \/><\/figure><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">Documentation<\/h2>\n\n\n\n<p>I&#8217;ve completely skipped the whole process of making and bundling the extension. Maybe I&#8217;ll write about that another time. So let&#8217;s get straight to self-hosting.<\/p>\n\n\n\n<p>The official docs for self-hosting are actually pretty good. Main links are:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li><a href=\"https:\/\/extensionworkshop.com\/documentation\/publish\/submitting-an-add-on\/#self-distribution\">Extension Workshop &#8211; Self Distribution<\/a><\/li><li><a href=\"https:\/\/extensionworkshop.com\/documentation\/manage\/updating-your-extension\/\">Extension Workshop &#8211; Updating your Extension<\/a><\/li><\/ul>\n\n\n\n<p>Follow those and you should be OK. Other than deciding WHERE to host the extension packages and <code>updates.json<\/code> it&#8217;s not too hard, but there are a few steps, which I&#8217;ll outline.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Self-hosting steps<\/h2>\n\n\n\n<p>The main steps (and my tips along the way) are:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Bump the version number in <code>manifest.json<\/code>, <code>package.json<\/code> and anywhere else that you need to. <\/li><li>Sign the addon and create the xpi. I use the <code>web-ext<\/code> command-line tool to do this, but you can upload a zip file to Mozilla too. And I have some excluded files that I put in a <code>web-ext-config.js<\/code> file.<\/li><\/ul>\n\n\n\n<p><code>web-ext sign --api-key=\"user:XXXXXXXX\" --api-secret=\"&lt;api_key\"&gt;<\/code><\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>With the CLI tool, this will create the signed xpi file in <code>\/web-ext-artifacts<\/code> (or wherever you specify)<\/li><li>Create the SHA256 hash of this using (on MacOS):<\/li><\/ul>\n\n\n\n<p><code>shasum -a 256 web-ext-artifacts\/&lt;plugin-name>-&lt;version>-an+fx.xpi<\/code><\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Add the new version and hash to your <code>updates.json<\/code>. You&#8217;ll need to host this somewhere too. It&#8217;s a good idea to validate the JSON formatting before uploading.<\/li><li>Upload the <code>.xpi<\/code> and <code>updates.json<\/code> to wherever you are hosting them.<\/li><li>Test an update (you might want to go to about:config and set <code>extensions.update.interval<\/code> to <code>120<\/code> for a two-minute check. Note that you can see console messages about update checks in Firefox, Tools -> Browser Tools -> Browser Console)<\/li><\/ul>\n\n\n\n<h2 class=\"wp-block-heading\">Automation<\/h2>\n\n\n\n<p>A lot of this process is ripe for automation. I&#8217;m add this later. Might be a good opportunity to try out GitHub Actions in more depth!<\/p>\n\n\n\n<p>Let me know if you know of any existing automations for this stuff. I&#8217;ve not even searched yet!<\/p>\n",
                "protected": false
            },
            "excerpt": {
                "rendered": "<p>I&#8217;m currently developing a paid-for browser extension that will run on both Firefox and Chrome\/Chromium browsers. I&#8217;ll write more about this (very-involved!) process soon. But in the last couple of days, I just made the decision to self-host updates for the Firefox version rather than host it on addons.mozilla.org. This post details the steps to [&hellip;]<\/p>\n",
                "protected": false
            },
            "author": 2,
            "featured_media": 0,
            "comment_status": "open",
            "ping_status": "closed",
            "sticky": false,
            "template": "",
            "format": "standard",
            "meta": {
                "sig_custom_text": "",
                "sig_image_type": "featured-image",
                "sig_custom_image": 0,
                "sig_is_disabled": false,
                "url": "",
                "footnotes": ""
            },
            "categories": [
                23,
                736
            ],
            "tags": [
                5085,
                74,
                4997,
                164
            ],
            "class_list": [
                "post-10247",
                "post",
                "type-post",
                "status-publish",
                "format-standard",
                "hentry",
                "category-techie",
                "category-web-development",
                "tag-browser-extensions",
                "tag-firefox",
                "tag-howto",
                "tag-tips"
            ],
            "yoast_head": "<!-- This site is optimized with the Yoast SEO plugin v23.6 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Browser Extensions: Self-hosted updates - Ross Wintle<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Browser Extensions: Self-hosted updates - Ross Wintle\" \/>\n<meta property=\"og:description\" content=\"I&#8217;m currently developing a paid-for browser extension that will run on both Firefox and Chrome\/Chromium browsers. I&#8217;ll write more about this (very-involved!) process soon. But in the last couple of days, I just made the decision to self-host updates for the Firefox version rather than host it on addons.mozilla.org. This post details the steps to [&hellip;]\" \/>\n<meta property=\"og:url\" content=\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/\" \/>\n<meta property=\"og:site_name\" content=\"Ross Wintle\" \/>\n<meta property=\"article:published_time\" content=\"2021-05-31T09:08:07+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-05-31T09:21:19+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png\" \/>\n<meta name=\"author\" content=\"Ross Wintle\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:site\" content=\"@magicroundabout\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ross Wintle\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"3 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/\",\"url\":\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/\",\"name\":\"Browser Extensions: Self-hosted updates - Ross Wintle\",\"isPartOf\":{\"@id\":\"https:\/\/rosswintle.uk\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png\",\"datePublished\":\"2021-05-31T09:08:07+00:00\",\"dateModified\":\"2021-05-31T09:21:19+00:00\",\"author\":{\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\"},\"breadcrumb\":{\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#primaryimage\",\"url\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x.png\",\"contentUrl\":\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x.png\",\"width\":1756,\"height\":508},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/rosswintle.uk\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Browser Extensions: Self-hosted updates\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/rosswintle.uk\/#website\",\"url\":\"https:\/\/rosswintle.uk\/\",\"name\":\"Ross Wintle\",\"description\":\"Creativity, curiosity, and code\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/rosswintle.uk\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc\",\"name\":\"Ross Wintle\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/rosswintle.uk\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g\",\"caption\":\"Ross Wintle\"},\"url\":\"https:\/\/rosswintle.uk\/author\/rosswintle\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->",
            "yoast_head_json": {
                "title": "Browser Extensions: Self-hosted updates - Ross Wintle",
                "robots": {
                    "index": "index",
                    "follow": "follow",
                    "max-snippet": "max-snippet:-1",
                    "max-image-preview": "max-image-preview:large",
                    "max-video-preview": "max-video-preview:-1"
                },
                "canonical": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/",
                "og_locale": "en_US",
                "og_type": "article",
                "og_title": "Browser Extensions: Self-hosted updates - Ross Wintle",
                "og_description": "I&#8217;m currently developing a paid-for browser extension that will run on both Firefox and Chrome\/Chromium browsers. I&#8217;ll write more about this (very-involved!) process soon. But in the last couple of days, I just made the decision to self-host updates for the Firefox version rather than host it on addons.mozilla.org. This post details the steps to [&hellip;]",
                "og_url": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/",
                "og_site_name": "Ross Wintle",
                "article_published_time": "2021-05-31T09:08:07+00:00",
                "article_modified_time": "2021-05-31T09:21:19+00:00",
                "og_image": [
                    {
                        "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png"
                    }
                ],
                "author": "Ross Wintle",
                "twitter_card": "summary_large_image",
                "twitter_creator": "@magicroundabout",
                "twitter_site": "@magicroundabout",
                "twitter_misc": {
                    "Written by": "Ross Wintle",
                    "Est. reading time": "3 minutes"
                },
                "schema": {
                    "@context": "https:\/\/schema.org",
                    "@graph": [
                        {
                            "@type": "WebPage",
                            "@id": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/",
                            "url": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/",
                            "name": "Browser Extensions: Self-hosted updates - Ross Wintle",
                            "isPartOf": {
                                "@id": "https:\/\/rosswintle.uk\/#website"
                            },
                            "primaryImageOfPage": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#primaryimage"
                            },
                            "image": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#primaryimage"
                            },
                            "thumbnailUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png",
                            "datePublished": "2021-05-31T09:08:07+00:00",
                            "dateModified": "2021-05-31T09:21:19+00:00",
                            "author": {
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc"
                            },
                            "breadcrumb": {
                                "@id": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#breadcrumb"
                            },
                            "inLanguage": "en-US",
                            "potentialAction": [
                                {
                                    "@type": "ReadAction",
                                    "target": [
                                        "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/"
                                    ]
                                }
                            ]
                        },
                        {
                            "@type": "ImageObject",
                            "inLanguage": "en-US",
                            "@id": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#primaryimage",
                            "url": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x.png",
                            "contentUrl": "https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x.png",
                            "width": 1756,
                            "height": 508
                        },
                        {
                            "@type": "BreadcrumbList",
                            "@id": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/#breadcrumb",
                            "itemListElement": [
                                {
                                    "@type": "ListItem",
                                    "position": 1,
                                    "name": "Home",
                                    "item": "https:\/\/rosswintle.uk\/"
                                },
                                {
                                    "@type": "ListItem",
                                    "position": 2,
                                    "name": "Browser Extensions: Self-hosted updates"
                                }
                            ]
                        },
                        {
                            "@type": "WebSite",
                            "@id": "https:\/\/rosswintle.uk\/#website",
                            "url": "https:\/\/rosswintle.uk\/",
                            "name": "Ross Wintle",
                            "description": "Creativity, curiosity, and code",
                            "potentialAction": [
                                {
                                    "@type": "SearchAction",
                                    "target": {
                                        "@type": "EntryPoint",
                                        "urlTemplate": "https:\/\/rosswintle.uk\/?s={search_term_string}"
                                    },
                                    "query-input": {
                                        "@type": "PropertyValueSpecification",
                                        "valueRequired": true,
                                        "valueName": "search_term_string"
                                    }
                                }
                            ],
                            "inLanguage": "en-US"
                        },
                        {
                            "@type": "Person",
                            "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/9f9bec147b2bfd762f09a2c2da7177dc",
                            "name": "Ross Wintle",
                            "image": {
                                "@type": "ImageObject",
                                "inLanguage": "en-US",
                                "@id": "https:\/\/rosswintle.uk\/#\/schema\/person\/image\/",
                                "url": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "contentUrl": "https:\/\/secure.gravatar.com\/avatar\/28519fc7c37998eea059b525da5fc7ce?s=96&d=identicon&r=g",
                                "caption": "Ross Wintle"
                            },
                            "url": "https:\/\/rosswintle.uk\/author\/rosswintle\/"
                        }
                    ]
                }
            },
            "_links": {
                "self": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10247"
                    }
                ],
                "collection": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts"
                    }
                ],
                "about": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/types\/post"
                    }
                ],
                "author": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/users\/2"
                    }
                ],
                "replies": [
                    {
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/comments?post=10247"
                    }
                ],
                "version-history": [
                    {
                        "count": 3,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10247\/revisions"
                    }
                ],
                "predecessor-version": [
                    {
                        "id": 10252,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/posts\/10247\/revisions\/10252"
                    }
                ],
                "wp:attachment": [
                    {
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/media?parent=10247"
                    }
                ],
                "wp:term": [
                    {
                        "taxonomy": "category",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/categories?post=10247"
                    },
                    {
                        "taxonomy": "post_tag",
                        "embeddable": true,
                        "href": "https:\/\/rosswintle.uk\/wp-json\/wp\/v2\/tags?post=10247"
                    }
                ],
                "curies": [
                    {
                        "name": "wp",
                        "href": "https:\/\/api.w.org\/{rel}",
                        "templated": true
                    }
                ]
            }
        },
        "id": 10247,
        "dateGmt": "2021-05-31T09:08:07",
        "modifiedDateGmt": "2021-05-31T09:21:19",
        "slug": "browser-extensions-self-hosted-updates",
        "status": "publish",
        "type": "post",
        "link": "https:\/\/rosswintle.uk\/2021\/05\/browser-extensions-self-hosted-updates\/",
        "title": "Browser Extensions: Self-hosted updates",
        "content": "\n<p>I&#8217;m currently developing a paid-for browser extension that will run on both Firefox and Chrome\/Chromium browsers. I&#8217;ll write more about this (very-involved!) process soon.<\/p>\n\n\n\n<p>But in the last couple of days, I just made the decision to self-host updates for the Firefox version rather than host it on addons.mozilla.org. This post details the steps to do that.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Why?<\/h2>\n\n\n\n<p>So, I have had a version of Turbo Admin approved for addons.mozilla.org (AMO for short), but they only give two options there:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Listed &#8211; AMO host the extension and all updates. It&#8217;s publicly listed. Anyone can find and install it from AMO.<\/li><li>Invisible &#8211; AMO verify and sign the extension, but it&#8217;s not publicly listed, and you self-host the extension and all updates to it.<\/li><\/ul>\n\n\n\n<p>I really want a third option:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Unlisted &#8211; AMO host the extension and all updates but it&#8217;s NOT publicly listed, people have to have the link to install it.<\/li><\/ul>\n\n\n\n<p>This is an option that the Chrome Web Store gives you.<\/p>\n\n\n\n<p>I guess there are some advantages to being on AMO. It could be a marketing and discovery channel. But I feel like finding my extension and immediately seeing that you have to pay for it could be frustrating for users. The AMO listing can show that &#8220;Some features may require payment&#8221; but I&#8217;d just rather people took a different journey to purchase.<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" src=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png\" alt=\"Turbo Admin - AMO - Some features may require payment\" class=\"wp-image-10248\" width=\"769\" height=\"222\" srcset=\"https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1024x296.png 1024w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-300x87.png 300w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-768x222.png 768w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x-1536x444.png 1536w, https:\/\/rosswintle.uk\/wp-content\/uploads\/2021\/05\/CleanShot-2021-05-31-at-09.26.15@2x.png 1756w\" sizes=\"(max-width: 769px) 100vw, 769px\" \/><\/figure><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">Documentation<\/h2>\n\n\n\n<p>I&#8217;ve completely skipped the whole process of making and bundling the extension. Maybe I&#8217;ll write about that another time. So let&#8217;s get straight to self-hosting.<\/p>\n\n\n\n<p>The official docs for self-hosting are actually pretty good. Main links are:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li><a href=\"https:\/\/extensionworkshop.com\/documentation\/publish\/submitting-an-add-on\/#self-distribution\">Extension Workshop &#8211; Self Distribution<\/a><\/li><li><a href=\"https:\/\/extensionworkshop.com\/documentation\/manage\/updating-your-extension\/\">Extension Workshop &#8211; Updating your Extension<\/a><\/li><\/ul>\n\n\n\n<p>Follow those and you should be OK. Other than deciding WHERE to host the extension packages and <code>updates.json<\/code> it&#8217;s not too hard, but there are a few steps, which I&#8217;ll outline.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Self-hosting steps<\/h2>\n\n\n\n<p>The main steps (and my tips along the way) are:<\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Bump the version number in <code>manifest.json<\/code>, <code>package.json<\/code> and anywhere else that you need to. <\/li><li>Sign the addon and create the xpi. I use the <code>web-ext<\/code> command-line tool to do this, but you can upload a zip file to Mozilla too. And I have some excluded files that I put in a <code>web-ext-config.js<\/code> file.<\/li><\/ul>\n\n\n\n<p><code>web-ext sign --api-key=\"user:XXXXXXXX\" --api-secret=\"&lt;api_key\"&gt;<\/code><\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>With the CLI tool, this will create the signed xpi file in <code>\/web-ext-artifacts<\/code> (or wherever you specify)<\/li><li>Create the SHA256 hash of this using (on MacOS):<\/li><\/ul>\n\n\n\n<p><code>shasum -a 256 web-ext-artifacts\/&lt;plugin-name>-&lt;version>-an+fx.xpi<\/code><\/p>\n\n\n\n<ul class=\"wp-block-list\"><li>Add the new version and hash to your <code>updates.json<\/code>. You&#8217;ll need to host this somewhere too. It&#8217;s a good idea to validate the JSON formatting before uploading.<\/li><li>Upload the <code>.xpi<\/code> and <code>updates.json<\/code> to wherever you are hosting them.<\/li><li>Test an update (you might want to go to about:config and set <code>extensions.update.interval<\/code> to <code>120<\/code> for a two-minute check. Note that you can see console messages about update checks in Firefox, Tools -> Browser Tools -> Browser Console)<\/li><\/ul>\n\n\n\n<h2 class=\"wp-block-heading\">Automation<\/h2>\n\n\n\n<p>A lot of this process is ripe for automation. I&#8217;m add this later. Might be a good opportunity to try out GitHub Actions in more depth!<\/p>\n\n\n\n<p>Let me know if you know of any existing automations for this stuff. I&#8217;ve not even searched yet!<\/p>\n",
        "excerpt": "<p>I&#8217;m currently developing a paid-for browser extension that will run on both Firefox and Chrome\/Chromium browsers. I&#8217;ll write more about this (very-involved!) process soon. But in the last couple of days, I just made the decision to self-host updates for the Firefox version rather than host it on addons.mozilla.org. This post details the steps to [&hellip;]<\/p>\n",
        "parentId": 0,
        "authorId": 2,
        "featuredMediaId": 0
    }
]